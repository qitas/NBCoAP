/**
  ******************************************************************************
  * @file    DCMI/Camera/dcmi_ov2640.c
  * @author  MCD Application Team
  * @version V1.0.0
  * @date    30-September-2011
  * @brief   This file includes the driver for OV2640 Camera module mounted on
  *          STM324xG-EVAL board RevB.
  ******************************************************************************
  * @attention
  *
  * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  *
  * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
  ******************************************************************************
  */ 

/* Includes ------------------------------------------------------------------*/
#include "dcmi_ov2640.h"
#include "SCCB.h"
#include <stm32f10x.h>
#include <stdio.h>
#include "common.h"
#include "ov2640api.h"
#include "common.h"
#include "mem.h"
#include "ir.h"
#include <string.h>
#include "flash.h"

/** @addtogroup STM32F4xx_StdPeriph_Examples
  * @{
  */

/** @addtogroup DCMI_Camera
  * @{
  */ 

/* Exported types ------------------------------------------------------------*/
/* Camera devices enumeration */

const unsigned char imgbuffer[] = {0xff,0xd8,0xff,0xe0,0x00,0x10,0x4a,0x46,0x49,0x46,0x00,0x01,0x01,0x01,0x00,0x60,0x00,0x60,0x00,0x00,0xff,0xdb,0x00,0x43,0x00,0x08,0x06,0x06,0x07,0x06,0x05,0x08,0x07,0x07,0x07,0x09,0x09,0x08,0x0a,0x0c,0x14,0x0d,0x0c,0x0b,0x0b,0x0c,0x19,0x12,0x13,0x0f,0x14,0x1d,0x1a,0x1f,0x1e,0x1d,0x1a,0x1c,0x1c,0x20,0x24,0x2e,0x27,0x20,0x22,0x2c,0x23,0x1c,0x1c,0x28,0x37,0x29,0x2c,0x30,0x31,0x34,0x34,0x34,0x1f,0x27,0x39,0x3d,0x38,0x32,0x3c,0x2e,0x33,0x34,0x32,0xff,0xdb,0x00,0x43,0x01,0x09,0x09,0x09,0x0c,0x0b,0x0c,0x18,0x0d,0x0d,0x18,0x32,0x21,0x1c,0x21,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0x32,0xff,0xc2,0x00,0x11,0x08,0x00,0x8c,0x00,0x8c,0x03,0x01,0x22,0x00,0x02,0x11,0x01,0x03,0x11,0x01,0xff,0xc4,0x00,0x1b,0x00,0x00,0x02,0x03,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x05,0x02,0x03,0x06,0x07,0x01,0x00,0xff,0xc4,0x00,0x1a,0x01,0x00,0x03,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x02,0x03,0x04,0x05,0x06,0xff,0xda,0x00,0x0c,0x03,0x01,0x00,0x02,0x10,0x03,0x10,0x00,0x00,0x01,0xd8,0x4c,0xc8,0x85,0x53,0x1e,0x20,0x57,0xc1,0xda,0x17,0xfc,0xb5,0x53,0x9d,0x3f,0xc9,0xee,0x43,0x2f,0x93,0xd6,0x37,0x9f,0x65,0xcf,0x72,0xe7,0xe0,0x2d,0x56,0x57,0xcb,0x08,0x19,0xf5,0xd9,0x58,0x87,0xb6,0xa9,0x85,0x9e,0x5c,0x30,0x2d,0xa5,0xcf,0x81,0x8b,0xd1,0x45,0x5d,0xf3,0x1d,0x44,0xfd,0x5a,0x79,0x9d,0xd8,0x67,0x89,0x7c,0xeb,0x35,0xa4,0x5a,0xd1,0xe5,0x42,0xba,0x75,0x5d,0x95,0xc9,0x9e,0xbe,0x67,0x69,0x8f,0x90,0xb6,0xbc,0xf6,0xf4,0xe0,0x69,0x72,0xd1,0x1b,0x19,0x8f,0x1e,0xd6,0xec,0xf5,0x73,0x69,0x86,0xba,0x95,0xd0,0x53,0x25,0xc7,0xa7,0x8d,0xcc,0x6f,0x14,0x03,0xe8,0x3d,0xaa,0x37,0x84,0xe3,0x3a,0xc4,0x5f,0x58,0xa0,0x13,0x71,0x79,0x20,0x41,0xdc,0x2b,0xe7,0xbd,0x3c,0x60,0xa6,0xd4,0x26,0xa9,0xcb,0x3d,0xcc,0x58,0xf3,0xd6,0xb0,0xc1,0xea,0x32,0xbc,0xf2,0xd7,0xd9,0xa8,0xae,0xab,0x5c,0x2b,0xbb,0x9c,0xfc,0x9d,0x45,0xfc,0x53,0xb2,0xf0,0x84,0xfa,0x18,0x35,0x1d,0xc5,0xbe,0x5f,0x7b,0xcf,0xf4,0xbd,0x78,0xf4,0x51,0x0b,0x12,0xd0,0xd9,0xdd,0x65,0x17,0x09,0xde,0x51,0x6c,0x52,0x45,0x4d,0x14,0x5c,0xd9,0x19,0x47,0xe7,0x7e,0x8b,0x56,0x72,0xf3,0xbd,0xcf,0x08,0x1e,0x7a,0x5f,0xb3,0xd6,0xb3,0xc7,0x9b,0x0c,0xfb,0x39,0xbb,0xbd,0xb7,0x11,0xbe,0x6e,0xf4,0x24,0x25,0xb7,0x9e,0x47,0xb5,0xc8,0x3e,0x84,0xfc,0x0c,0x4e,0x6f,0xa6,0x0b,0x53,0x9f,0x8c,0xa3,0xf3,0xdf,0x43,0xac,0x38,0x13,0x7d,0xcf,0x0f,0x9f,0xcb,0xa2,0xe0,0x1c,0xec,0x0f,0x48,0xc9,0xbb,0x39,0x33,0xfd,0x5a,0x4b,0x9c,0x1a,0x15,0x2b,0x7d,0xf8,0x30,0x37,0xdc,0x9e,0x88,0x29,0xa7,0x2e,0x4a,0xd6,0xb8,0xca,0x3e,0x0f,0xb5,0xad,0x31,0x39,0xde,0xe7,0x86,0x50,0xbf,0x7c,0x48,0x94,0x32,0xf9,0xa8,0xfb,0x31,0x26,0x8f,0x90,0x12,0xd2,0x4a,0x8d,0x1f,0x0d,0x8c,0x02,0xa5,0xc8,0x8a,0x1b,0xb2,0x5a,0x24,0x86,0xc6,0xbe,0x3e,0x84,0x3e,0x92,0xbf,0xaf,0x96,0x1f,0x26,0xad,0xad,0x54,0x82,0xbc,0x06,0xf8,0x31,0xc1,0xc4,0xd0,0x9e,0x0d,0xfc,0x94,0x40,0x12,0x93,0x94,0x04,0x07,0x2c,0xd0,0x7f,0xff,0xc4,0x00,0x2b,0x10,0x00,0x02,0x02,0x01,0x03,0x02,0x06,0x02,0x03,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x01,0x02,0x03,0x04,0x00,0x05,0x12,0x13,0x11,0x31,0x10,0x14,0x21,0x23,0x33,0x34,0x15,0x22,0x06,0x20,0x32,0x24,0x40,0x43,0xff,0xda,0x00,0x08,0x01,0x01,0x00,0x01,0x05,0x02,0xe2,0xc1,0x16,0x05,0xff,0x00,0xa2,0x73,0xd5,0xb3,0x6b,0x74,0x41,0x21,0x5d,0x8d,0x85,0xd8,0x13,0x7d,0xd5,0xcc,0xfe,0xca,0x3b,0x3a,0x47,0x3b,0x49,0x2d,0x8b,0x2d,0x06,0x7e,0x41,0xf7,0x57,0xb3,0xe6,0x15,0xd8,0xa8,0xe8,0x71,0xe4,0x2a,0x7d,0x7c,0x1f,0xb2,0x7f,0x9c,0xd9,0x80,0xfa,0x35,0x72,0x66,0x9e,0xa1,0x95,0x4f,0x24,0x39,0x5f,0xe0,0xaf,0xf6,0x2f,0x8f,0x72,0xf5,0x70,0xf1,0xa4,0xa4,0x34,0x12,0x0b,0x91,0xf4,0xf4,0x3e,0x87,0xc1,0xfb,0x27,0x5d,0xaa,0xc0,0xb6,0x0c,0xdd,0xe8,0x0f,0x4c,0xb5,0x54,0xd9,0x03,0x92,0x94,0x95,0x0e,0xe9,0x2e,0x0e,0xb2,0xd9,0xfa,0xc9,0x57,0x9a,0x96,0x93,0xe1,0x38,0x52,0xdc,0x69,0xe0,0xfd,0xac,0xd9,0xf6,0xea,0x44,0xf1,0xd7,0xf7,0xba,0xab,0xc8,0x5b,0xde,0xeb,0xe1,0x72,0xa9,0xb1,0x95,0xa7,0x30,0xc9,0x60,0x86,0x9a,0xcf,0xd5,0xa5,0xf4,0xeb,0xfc,0xe3,0x35,0xa5,0x63,0x64,0x02,0x7c,0x1f,0xb7,0x00,0x76,0x06,0x45,0x50,0xd2,0xe7,0x47,0x42,0xd2,0x4a,0x30,0xd9,0x38,0xaf,0x21,0x61,0xfe,0xef,0x54,0x12,0xe4,0x4f,0xd2,0x5b,0x2c,0x3c,0x9d,0x2f,0xa9,0x07,0xce,0x32,0xf3,0xaf,0x98,0xd3,0xdd,0x52,0xb7,0x2d,0xfc,0x69,0x6f,0xf4,0xaa,0x5c,0xd7,0x91,0xca,0x9e,0x69,0x73,0x9a,0x5e,0x9c,0x9e,0x85,0x22,0x69,0x94,0xaa,0x0d,0xdf,0xbc,0x8f,0x96,0xeb,0x87,0x41,0x60,0x3c,0x14,0x7e,0x94,0x2e,0x82,0xcf,0x50,0x33,0x59,0x05,0xe7,0x86,0x58,0x82,0x63,0x76,0x8b,0x76,0xc4,0xeb,0xc9,0x9a,0x9e,0xa4,0xb4,0x22,0x9a,0x6b,0x77,0x32,0x34,0x91,0xdf,0x4f,0xd6,0xa6,0x82,0x40,0x41,0x19,0x65,0x47,0xe2,0xa4,0x04,0x65,0x7d,0x45,0xa3,0xca,0xb3,0x3c,0xfa,0x95,0xbe,0xf2,0xec,0x55,0x8e,0x93,0x4e,0xb8,0xdd,0xa3,0xe9,0xb2,0x3f,0x93,0x35,0x1b,0x06,0xd5,0xea,0x2e,0xff,0x00,0x86,0xd0,0x3a,0x96,0xd5,0x0a,0x36,0xa5,0xa0,0x58,0x33,0x50,0xc4,0x01,0xa1,0x92,0x38,0xd1,0xa7,0xa6,0x8b,0x9a,0x6c,0x30,0xed,0x28,0xae,0x2d,0xc4,0x91,0x1a,0x1f,0x5f,0x9a,0x2c,0x69,0xa2,0xe9,0x09,0xeb,0x12,0xfc,0xb3,0x1d,0xb0,0xaf,0x4d,0xd5,0xe1,0xd3,0x9d,0x0d,0x4a,0x28,0x2e,0x2d,0x45,0x3f,0xc6,0x8f,0xbb,0x91,0x7c,0x6e,0x9b,0xf3,0x80,0xe2,0xc2,0xd1,0x2c,0x41,0xc2,0x6a,0x6e,0x03,0xd2,0x60,0x20,0xc3,0xda,0x87,0xd2,0x4f,0x93,0x51,0x9c,0x41,0x50,0xc3,0x13,0x67,0x94,0x8b,0x3c,0x9c,0x78,0x2b,0x44,0x33,0x4f,0x95,0x2a,0xda,0xc8,0xbe,0x3f,0xe9,0xac,0x83,0xe6,0xfa,0x1f,0x03,0xda,0x91,0x02,0x9c,0x67,0xac,0x9f,0xc8,0x67,0xdf,0x73,0x4a,0x50,0x74,0xea,0xa8,0xb2,0x59,0xfc,0x6d,0x5c,0x5a,0x95,0xd3,0x1f,0xd2,0x5a,0x73,0xf9,0x9a,0x71,0x7c,0x7f,0xd2,0x71,0xfb,0xf8,0x1e,0xd4,0x3e,0x92,0xfc,0x87,0x4d,0x92,0xf6,0xa5,0xfc,0x78,0xa3,0x62,0x52,0xaf,0x1b,0xe4,0x92,0x2c,0x51,0x50,0xd3,0xdb,0x50,0x1a,0x1a,0xba,0x69,0xf1,0xfc,0x5f,0xb7,0xf4,0x9e,0x78,0xd7,0x07,0x46,0x18,0x7b,0x50,0xfa,0x4b,0xf2,0x65,0xea,0xed,0x52,0xf5,0x5d,0x56,0xad,0xa5,0x6b,0x10,0x20,0xbf,0x7d,0xb5,0x1c,0xd3,0xeb,0x45,0x56,0xae,0x47,0xf1,0xfe,0xeb,0x96,0x63,0x2d,0x5f,0x67,0xb7,0x5c,0x3a,0xd5,0xe8,0xd6,0x6c,0x53,0xb2,0x63,0x83,0x0f,0x6a,0x1f,0x48,0x83,0xbb,0xf7,0xcf,0x2e,0x32,0x4d,0x3a,0x09,0x71,0x74,0x6a,0x8a,0x56,0xa2,0xa8,0x50,0xd1,0xb6,0xe9,0x30,0x0e,0x8a,0xea,0x59,0x21,0x0e,0x13,0xc1,0xa9,0x45,0x22,0xf9,0x73,0xe0,0x7b,0x53,0x91,0x96,0xaf,0x33,0xe7,0x33,0xe7,0x33,0xe7,0x33,0xe7,0x33,0xe7,0x33,0x61,0x95,0xb7,0x73,0x36,0x73,0x36,0x73,0x36,0x73,0x36,0x73,0x36,0x48,0xee,0xea,0x81,0xb7,0x73,0x36,0x79,0x2b,0x18,0x69,0xd8,0xe9,0x5d,0x4a,0x41,0x2c,0xc2,0x2c,0x4b,0x8a,0xcc,0x6e,0xa0,0x31,0xc8,0x24,0x57,0x6d,0x91,0x8b,0x7e,0x8f,0x36,0xd0,0xb2,0x16,0x7d,0xfe,0xee,0x76,0x06,0xc6,0x6e,0xfd,0x39,0x3f,0xe3,0xf9,0xf4,0x1e,0x0f,0xdb,0x2c,0x8c,0xa9,0x26,0xfb,0x53,0x4e,0x44,0xf4,0xe5,0x32,0xc0,0xea,0x12,0xab,0xae,0xd8,0xaf,0xb7,0x19,0xa7,0x3b,0x19,0xbf,0xf4,0xc3,0xea,0x11,0x77,0xca,0xc4,0xb5,0x4e,0xd5,0xe4,0x6f,0xdf,0xff,0xc4,0x00,0x27,0x11,0x00,0x02,0x02,0x01,0x02,0x05,0x03,0x05,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x02,0x00,0x11,0x03,0x10,0x12,0x04,0x21,0x31,0x32,0x41,0x13,0x20,0x22,0x14,0x23,0x30,0x51,0x62,0xff,0xda,0x00,0x08,0x01,0x03,0x01,0x01,0x3f,0x01,0xd5,0x98,0x2f,0x58,0x08,0x32,0xfc,0xc0,0xe0,0x9a,0xd0,0x82,0x05,0xfb,0x1b,0xe4,0x28,0xc0,0x3d,0x33,0x7e,0x20,0xe6,0xb1,0xd6,0xdb,0x94,0x53,0x63,0x55,0x53,0xbc,0xb1,0x82,0xaa,0x58,0x12,0xac,0x43,0x69,0xcb,0xc4,0xa3,0x7b,0xa0,0x9b,0x09,0x3c,0xa7,0xad,0xfc,0x88,0x4d,0xe9,0x5a,0x11,0x7c,0x8c,0x5d,0xcb,0xf1,0x3d,0x25,0xd0,0x98,0xb3,0x32,0x9b,0x59,0xb5,0xbf,0x5a,0x8c,0x04,0x8b,0xb8,0x45,0x1a,0xd1,0x96,0xe2,0xad,0x26,0xb9,0x3b,0xcc,0xe1,0x73,0x2a,0xfd,0xb6,0x5b,0xb9,0x9c,0xf0,0xd8,0x8d,0x32,0xc7,0xe2,0xb1,0x6d,0x2a,0x89,0xec,0xad,0x32,0x77,0x98,0x01,0xf1,0x19,0x99,0xbb,0x8c,0xa3,0x57,0xec,0x38,0x89,0xe8,0x0d,0xe9,0x93,0xbc,0xc0,0xc4,0x74,0x96,0x66,0xf6,0x3c,0xaf,0x4b,0xe5,0x5a,0x7a,0xf9,0x48,0xa6,0x33,0xeb,0x72,0x42,0x6c,0xdf,0xe0,0xff,0xc4,0x00,0x24,0x11,0x00,0x01,0x03,0x03,0x03,0x04,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x02,0x11,0x03,0x10,0x12,0x20,0x21,0x32,0x04,0x13,0x31,0x41,0x14,0x30,0x51,0xff,0xda,0x00,0x08,0x01,0x02,0x01,0x01,0x3f,0x01,0xbc,0x28,0xb4,0x6b,0xf3,0x61,0x68,0xb1,0x70,0xc0,0x34,0x5a,0x27,0x54,0x69,0x05,0x6c,0xaa,0x3b,0x16,0xca,0xa6,0xee,0xe8,0xdd,0x64,0xdf,0xdb,0xbb,0xae,0x6b,0x4c,0x62,0x53,0x1d,0x90,0x9b,0x02,0x21,0x14,0x1a,0x00,0xda,0xd4,0xf8,0x04,0xf6,0x9f,0x29,0xb9,0xbb,0xda,0x0c,0x77,0xb3,0xaa,0x9f,0x00,0x9c,0xe6,0xb7,0x91,0x40,0x2c,0xdb,0x38,0xce,0xfa,0x19,0x55,0xb3,0x13,0x6a,0x7c,0x02,0x75,0x36,0x3f,0x90,0x94,0x1a,0xd0,0x20,0x04,0x29,0x53,0x06,0x40,0xd1,0x8b,0x41,0xd9,0x7c,0x2a,0x68,0x08,0x11,0xf4,0x7f,0xff,0xc4,0x00,0x38,0x10,0x00,0x01,0x03,0x01,0x05,0x05,0x07,0x02,0x04,0x06,0x03,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x02,0x11,0x03,0x12,0x21,0x31,0x32,0x41,0x10,0x13,0x22,0x51,0x71,0x04,0x42,0x61,0x81,0x91,0xa1,0xb1,0x20,0x33,0x14,0x62,0x72,0x92,0x23,0x24,0x43,0x52,0xa2,0xc1,0x82,0xd1,0xf0,0xff,0xda,0x00,0x08,0x01,0x01,0x00,0x06,0x3f,0x02,0xc4,0xac,0x4a,0xcc,0x56,0x62,0xb3,0x15,0x98,0xac,0xc5,0x66,0x2b,0x31,0x59,0x8a,0xcc,0x56,0x62,0xb3,0x15,0x98,0xac,0xc5,0x66,0x2b,0x31,0x59,0x8e,0xdc,0x55,0xc5,0x71,0x70,0x9e,0x58,0xac,0xdb,0x0b,0x1d,0x4e,0x0f,0x54,0x6a,0x0b,0xd0,0x77,0x35,0x51,0x98,0x58,0x4c,0xba,0xd5,0xa3,0x08,0xb4,0xd3,0x87,0x0d,0x25,0x63,0x0e,0x18,0xb5,0x4c,0xac,0xc8,0x01,0x79,0x2b,0x37,0xd3,0x76,0x2a,0x56,0xf0,0x1f,0x75,0xa5,0xa1,0x81,0x46,0x93,0xee,0xb4,0x3d,0x53,0x55,0x7f,0xd4,0xbb,0x3f,0xea,0x46,0xa8,0xb9,0xec,0xd5,0x0a,0x8c,0x30,0xf0,0xae,0xb8,0x83,0x78,0xfa,0xb0,0xdb,0x81,0x85,0x94,0xdc,0xb2,0xa1,0x66,0xe7,0x04,0x1a,0xf2,0x0c,0xf2,0x55,0x8f,0x8a,0xa0,0x3c,0x55,0x5f,0xd2,0x98,0xf6,0x5d,0x50,0x7b,0xaa,0xb2,0x20,0xdd,0x3b,0x04,0xc2,0xd3,0x6e,0xe2,0x9b,0xb8,0xc6,0x64,0x37,0x71,0x0e,0xe2,0x9d,0x85,0xad,0x02,0xe5,0x80,0xda,0x4b,0x73,0x37,0x04,0x5a,0xf1,0xd5,0x76,0x72,0x39,0xaa,0xbf,0xa4,0xa6,0x2a,0xfe,0x5b,0x18,0x40,0x31,0x61,0x60,0x76,0x93,0xba,0x06,0xd5,0xc4,0xa0,0xd6,0xb0,0x5c,0xb2,0xa7,0x16,0xb7,0x35,0xe5,0x64,0xf6,0x40,0xdc,0x85,0xdc,0x3c,0xd3,0x95,0xb6,0xdd,0x53,0xe5,0x36,0xdc,0xf0,0x15,0x50,0xce,0x2d,0x4c,0x55,0xbc,0xb6,0x0a,0x73,0xc5,0x62,0x55,0xe7,0xbc,0xb2,0xf6,0x7f,0x75,0x96,0x87,0xba,0x6e,0xf2,0x2d,0x6b,0x08,0x06,0xfc,0x2f,0xb6,0x7f,0x6a,0xbe,0x99,0xfd,0xaa,0xf6,0xbb,0xd1,0x6f,0x2c,0x99,0x88,0x22,0x31,0x50,0xd6,0xba,0x3a,0x14,0x78,0x5d,0xe8,0xb2,0xbb,0xd1,0x1a,0xa0,0x80,0xe6,0x89,0x94,0xea,0x53,0x37,0x48,0x12,0x98,0xaa,0x34,0xb8,0x07,0x38,0xdc,0x27,0x1b,0x95,0xe9,0x95,0xa9,0x3a,0x6c,0xb6,0x0c,0x28,0x7b,0xec,0x9d,0xa2,0x00,0x84,0xe9,0xe4,0x36,0x5d,0xc5,0x59,0xd9,0x42,0x35,0x2a,0x1a,0x95,0x1a,0x3d,0x02,0x8a,0x6d,0x73,0x9d,0xf9,0x56,0xef,0xb5,0x38,0xbe,0x9f,0x33,0x8b,0x54,0x8c,0x36,0x57,0xbb,0xfa,0x2e,0xf8,0x54,0xac,0x06,0x82,0xde,0xc4,0x2a,0x4f,0x35,0x05,0xa0,0xb7,0x75,0xbc,0xf3,0x5d,0x8e,0xa3,0xdd,0x4e,0x5d,0x6c,0xc3,0x34,0xe1,0x4c,0x04,0xc3,0x35,0x2a,0xc3,0x78,0x8e,0xae,0x56,0xc3,0x80,0xda,0x2f,0x29,0xfe,0x5b,0x2a,0xd4,0xd2,0x61,0xbd,0x15,0x2f,0xc3,0x6e,0xf8,0x5e,0x77,0xf6,0xb9,0x2a,0xed,0xa4,0xe6,0x35,0xf7,0x5e,0xe1,0x37,0x2a,0xc5,0x91,0x13,0x7c,0x73,0xd5,0x6e,0xdd,0x8d,0x23,0x1e,0x5b,0x03,0x5c,0x01,0x04,0x5e,0x0a,0x69,0x6b,0x1a,0x08,0x6d,0x91,0x03,0x4e,0x4b,0x79,0x42,0x9b,0x5a,0x75,0x0d,0x0b,0x78,0x29,0x30,0x38,0x1b,0x8d,0x9b,0xd4,0x38,0x48,0x5c,0x23,0xba,0xbc,0xd7,0xdc,0x67,0xee,0x5f,0x71,0x9e,0xa8,0x10,0x44,0x27,0x74,0x09,0xee,0x1a,0x34,0xa1,0x6a,0x63,0x58,0x50,0xd7,0x49,0xfc,0xce,0x82,0xa4,0x86,0xb7,0xc6,0xd2,0xfe,0x5d,0xce,0x27,0xd9,0x76,0x86,0xf8,0x0d,0x8d,0xe8,0x85,0xeb,0x15,0x52,0xc4,0x5a,0x37,0xaf,0xe2,0x19,0x72,0x89,0xee,0x2f,0x3d,0xac,0xbb,0x9f,0xca,0x77,0x40,0x8d,0xf0,0x5f,0xc2,0x16,0x40,0xb5,0x5d,0xe5,0x95,0x37,0x2b,0x43,0xf8,0x4e,0xc6,0xf4,0xfa,0x59,0x77,0x73,0xfd,0x95,0x86,0xda,0x7e,0x7f,0x29,0xfe,0x49,0xb4,0x74,0xa6,0x3d,0xca,0xed,0x8e,0x20,0x12,0x22,0x13,0x18,0xec,0x09,0x5f,0x6f,0xfc,0x8a,0xba,0x8b,0x7c,0xc2,0x77,0x81,0x54,0xab,0x6a,0xe6,0xdf,0xd5,0x37,0xa7,0xd2,0x3a,0x7d,0x14,0xfc,0xfe,0x53,0xba,0x05,0xdb,0x2a,0x3c,0x1b,0x0d,0x26,0x3c,0x4e,0x8b,0xb4,0xf6,0x6a,0x83,0x34,0x18,0x41,0xed,0xa7,0x0e,0x1e,0x3b,0x1d,0x51,0xd9,0x5a,0x24,0xae,0xd0,0x70,0x2d,0x1c,0x27,0xc5,0x58,0xa8,0xd2,0xd2,0xd7,0x91,0x05,0x37,0xa2,0xca,0xaf,0x1b,0x6c,0x97,0x09,0x95,0x23,0x6d,0x3f,0x3f,0x94,0xee,0x83,0x67,0xe3,0x7b,0x15,0xfa,0xbd,0x8b,0xee,0x06,0x3f,0x56,0xbc,0xc2,0x97,0x56,0xa6,0x07,0x8b,0x97,0xe1,0x7b,0x18,0x26,0x99,0xcf,0x51,0x0a,0x74,0x8c,0xff,0x00,0x71,0xe6,0x76,0x37,0xc9,0x5c,0x2d,0x04,0x6d,0x38,0x73,0x33,0x84,0x0d,0x3a,0x2d,0xe3,0xe9,0xd0,0xdc,0xdb,0x3b,0xba,0x24,0xf0,0x1b,0x86,0x5b,0xbc,0x0e,0x9a,0xaa,0x42,0xae,0x70,0xc1,0x6a,0x79,0xaa,0xb5,0x2a,0x0a,0x8e,0x1b,0xcb,0xac,0xb8,0x0e,0x15,0x62,0xb4,0xc8,0x37,0x74,0xdb,0x4f,0xcf,0xe5,0x4b,0x4a,0xc5,0xbe,0x8b,0xba,0xb8,0xe9,0x53,0x3e,0x30,0xa4,0x50,0x67,0x9c,0x9f,0xf6,0xa1,0xad,0x60,0x1e,0x01,0x1b,0x36,0x56,0x2d,0xf4,0x50,0x88,0x0e,0x70,0x3c,0xe5,0x0d,0xe9,0x97,0x6d,0x73,0xdb,0x23,0xc1,0x65,0x77,0xa6,0xd6,0x01,0x1a,0xfc,0xac,0x1a,0xb0,0x6a,0xc1,0xab,0x06,0xac,0x02,0xd1,0x1c,0x16,0x8b,0x45,0xa2,0xd1,0x68,0xa2,0x61,0x1b,0x46,0x5b,0xa3,0x56,0x8b,0xed,0xfb,0x85,0x93,0xdc,0x26,0xb5,0xc2,0xf4,0x24,0x1b,0xf9,0x05,0x16,0x71,0xc2,0x0a,0x17,0x7f,0x9b,0x7f,0xed,0x5a,0x1f,0x29,0xce,0x89,0x81,0x2a,0x6c,0x48,0xc3,0x82,0xf5,0x68,0xb1,0xd7,0xf2,0x51,0x66,0xcf,0x53,0x7a,0x0c,0xf0,0x9d,0x92,0x54,0x8a,0x64,0xb3,0x9d,0xdf,0x0a,0xd1,0xba,0xe9,0x5b,0xd8,0xee,0xda,0x85,0xc4,0xd3,0xff,0x00,0x1b,0xfe,0x86,0x99,0x31,0x7d,0xde,0x45,0x35,0xa4,0x5c,0x7c,0x4e,0x89,0xe2,0xcb,0x6e,0xe1,0x0a,0xd3,0xa2,0x67,0x44,0xf6,0xb7,0x00,0xd2,0x8c,0x17,0x67,0x1d,0xe3,0xc8,0x26,0xb0,0x00,0x7c,0x5d,0x79,0x5b,0xbb,0x2d,0x0d,0xe4,0x02,0x35,0x3b,0xc2,0xa0,0x67,0x97,0xfe,0x3b,0x31,0x85,0x55,0xd6,0x9c,0x1d,0x4c,0xdc,0x55,0x39,0x39,0xe0,0x13,0xd5,0x57,0x6e,0x8d,0x90,0x3d,0x11,0xf0,0x5f,0xff,0xc4,0x00,0x27,0x10,0x01,0x00,0x02,0x01,0x02,0x05,0x05,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x11,0x21,0x31,0x41,0x10,0x51,0x61,0xd1,0xf0,0x71,0x81,0x91,0xa1,0xb1,0xc1,0xe1,0x20,0xf1,0xff,0xda,0x00,0x08,0x01,0x01,0x00,0x01,0x3f,0x21,0xf3,0x57,0x68,0x87,0xf9,0x4a,0x7f,0xcb,0xb4,0xaf,0x23,0xb4,0xaf,0x23,0xb4,0xaf,0x23,0xb4,0xaf,0x23,0xb4,0xaf,0x23,0xb4,0xaf,0x23,0xb4,0xaf,0x23,0xb4,0xaf,0x23,0xb4,0xaf,0x23,0xb4,0xaf,0x23,0xb4,0xaf,0x23,0xb4,0xaf,0x23,0xb4,0xaf,0x23,0xb4,0xaf,0x23,0xb4,0xaf,0x23,0xb7,0x07,0x44,0x5c,0x85,0x23,0x6a,0x95,0xe5,0x50,0x13,0x58,0x1e,0x12,0x20,0x2f,0x49,0x42,0x2f,0xce,0xd1,0x6e,0xe8,0x1a,0x4b,0x8d,0x54,0xd2,0x54,0xfc,0x95,0x7c,0xe3,0x24,0xb2,0xa6,0x6a,0x55,0xbb,0xdb,0xff,0x00,0x30,0x92,0xb7,0x43,0x69,0xa9,0xcc,0x84,0xf1,0x11,0xb7,0xdb,0x15,0x50,0xf1,0x38,0xba,0x3e,0xf1,0xbc,0x06,0xab,0x51,0xc3,0x27,0xd4,0xcc,0x08,0xbf,0x91,0x1d,0x0d,0x53,0x6d,0x37,0x0f,0xa9,0x67,0xee,0x00,0x73,0x22,0x1a,0x5b,0xc4,0x39,0x79,0xff,0x00,0x52,0xca,0x7c,0xe2,0x60,0x14,0x59,0xcc,0x72,0x9b,0xd0,0x29,0xce,0x6d,0xf6,0x74,0xa5,0x1a,0x4a,0x50,0xd5,0xcc,0x74,0xe2,0xe2,0xe6,0xeb,0x01,0x3b,0x68,0x7a,0xf0,0x5c,0xb2,0x2c,0x60,0xa8,0x7a,0x88,0xe0,0xcb,0x4d,0x25,0x64,0xcf,0x45,0xeb,0xb4,0x60,0x63,0x58,0xa7,0x29,0x9b,0x8f,0x4b,0x62,0x94,0xd3,0x7a,0x79,0x69,0x3e,0xd6,0x63,0x1d,0xaf,0x6d,0xe9,0x05,0x66,0x5a,0x03,0xb6,0xb0,0x73,0x1c,0x45,0xaa,0x1c,0x9f,0x97,0x14,0x55,0x41,0x36,0x73,0xd0,0x95,0x42,0xc3,0xef,0x5f,0xf9,0x39,0x56,0x1c,0xda,0x9b,0x3a,0x14,0x76,0x85,0xc5,0xe7,0xc5,0xa6,0x9d,0x65,0x15,0x55,0x00,0x34,0x22,0x38,0x3f,0x33,0xa4,0x74,0x06,0xc5,0xd4,0x88,0x20,0x8d,0x87,0xe3,0x85,0x8f,0xd9,0xfb,0x08,0x62,0xdf,0xf3,0x16,0x62,0x6b,0x8d,0x41,0xd5,0x81,0x58,0x9d,0x4e,0x28,0xc7,0x83,0x43,0x5a,0x40,0x82,0x05,0x69,0x41,0x2d,0x64,0xef,0xb4,0x07,0x5d,0xc5,0x6f,0x05,0x52,0xc0,0x5c,0x53,0x05,0x9b,0xf6,0x97,0x61,0xb7,0x26,0xd5,0x17,0xcd,0x28,0xe9,0xa3,0x58,0x52,0xd1,0xb2,0xed,0xce,0x30,0x56,0x28,0x1f,0x59,0xfb,0xbf,0x67,0xdd,0xfc,0x4d,0x50,0x58,0x85,0x51,0xcc,0xb6,0x31,0x2a,0x54,0xcf,0xfc,0x49,0xd4,0x3e,0x19,0x43,0x07,0x3e,0x4e,0xac,0xc9,0x62,0xea,0x65,0x47,0x38,0x7f,0xa8,0x86,0x80,0xe1,0xd1,0x6b,0x0c,0x68,0x1a,0xce,0x70,0x36,0xa0,0xb1,0xa8,0x22,0x50,0xda,0x03,0xb7,0x1a,0xf3,0xcb,0x01,0xc0,0x6a,0xde,0x59,0x99,0x04,0xd0,0x87,0x39,0x51,0x57,0xa6,0xc8,0xeb,0xe9,0x1e,0xae,0xb9,0xbf,0x98,0x4a,0x61,0x7e,0x54,0xca,0x8d,0xe5,0x15,0x40,0x73,0x61,0xa0,0x22,0x8f,0x26,0x59,0x8d,0xb1,0xd2,0xb6,0xe3,0xae,0x68,0x37,0xeb,0x34,0xf9,0xd0,0xf7,0xe0,0x68,0x20,0x72,0xe8,0x75,0x7a,0x43,0x5f,0x1b,0x50,0x7b,0x64,0x00,0x23,0x90,0x0a,0xfd,0x41,0x68,0xed,0x39,0x7b,0xde,0x90,0x1b,0x0a,0x2c,0x4d,0xf8,0x59,0x35,0x7f,0x4c,0xb4,0xbd,0x34,0x66,0x98,0xa9,0x7c,0x62,0xe8,0x61,0xe9,0xf4,0x8c,0xc8,0xd4,0xdf,0xd3,0xca,0x66,0x49,0xd9,0x68,0x2e,0xa1,0xc5,0x47,0xd3,0x7a,0x1d,0x25,0x3d,0xda,0x53,0xc7,0x36,0xa8,0x73,0xa7,0xac,0x01,0x42,0xb8,0xd5,0xef,0xc1,0x48,0xdf,0xc3,0x30,0x4c,0xcc,0x36,0x16,0xf6,0xef,0xda,0xa3,0x6d,0x0b,0x65,0x35,0xe8,0x09,0xef,0x9e,0x51,0xc9,0x74,0x08,0xd0,0xd4,0xfd,0x5c,0x50,0x97,0x47,0xf6,0x3f,0xa7,0xb7,0x0a,0xf8,0x34,0x16,0x24,0xbc,0x6a,0x01,0x10,0xfe,0x3a,0x44,0x6a,0x13,0x08,0x59,0x2d,0xb0,0xe8,0x8a,0x63,0x9c,0x66,0x48,0x54,0xaa,0xcd,0xd6,0x7e,0xb9,0xff,0x00,0x9c,0x9d,0xb6,0xcb,0xfb,0xab,0xa4,0xf5,0x97,0xcb,0xe1,0x71,0x75,0xe2,0x0f,0x89,0xd5,0x2f,0x52,0xa6,0x68,0x2d,0x46,0xf8,0x31,0x2a,0x16,0xea,0x9f,0xd9,0x45,0xb8,0x67,0x97,0xe7,0x31,0x4d,0xa2,0xff,0x00,0x0b,0xdf,0x8a,0x57,0xa5,0x2a,0x74,0xbf,0x12,0xc6,0xdd,0xa7,0x2b,0x84,0xc1,0xde,0x42,0x03,0x40,0x6f,0x8b,0xf5,0x8c,0xc5,0x0c,0xf7,0xe3,0x0e,0x6f,0xfd,0x27,0x27,0x5f,0xe9,0x0c,0x6a,0xac,0x9f,0x7f,0x53,0x5c,0xf6,0x71,0x16,0xd8,0xfa,0x33,0xab,0xf2,0x9c,0xf9,0xea,0xc2,0x32,0xcb,0x91,0x77,0xa7,0xdd,0x71,0xc1,0xc7,0x07,0x59,0x54,0xc7,0x25,0xaa,0xbb,0x43,0xac,0xf8,0xe3,0x5e,0xcb,0x9d,0x9e,0xa8,0x14,0x2f,0x4d,0x5e,0xf1,0xcf,0x75,0xe9,0xe1,0xb5,0x47,0xe0,0x17,0x26,0x9e,0x90,0x5d,0xba,0x89,0x73,0xaa,0xf0,0xeb,0x08,0xfd,0xa7,0xec,0x4d,0x45,0xb5,0xa7,0xde,0x5c,0xd5,0x49,0xa7,0xcb,0xef,0x82,0x13,0x79,0xbc,0xde,0x5e,0xdf,0xf0,0xaf,0xa5,0xe1,0x4f,0x19,0xd6,0x1e,0x40,0x2d,0xc6,0x3c,0x0f,0xa9,0xa8,0x00,0xb7,0xb8,0x61,0xfd,0x20,0x02,0xc8,0x1b,0x77,0xe0,0xca,0xd2,0xdb,0xa1,0x09,0xfa,0x86,0xc5,0xdd,0x3e,0x2e,0x37,0xa8,0x78,0xd3,0xc6,0xe3,0xa8,0x2b,0x99,0xf2,0x42,0xc7,0x21,0x37,0xe1,0x55,0xa1,0x55,0xca,0x50,0x25,0x8e,0xfc,0x6e,0xb3,0xff,0x00,0x49,0xe7,0x3a,0xf0,0x3a,0xc3,0xba,0x3c,0xf7,0xf5,0x18,0x55,0x39,0xb2,0x07,0xfb,0x3a,0xed,0x20,0x26,0x77,0x06,0x41,0x07,0xa7,0xa4,0x07,0x9b,0xf7,0x79,0x9c,0x5b,0x2d,0x72,0x9b,0x74,0x95,0x1b,0x6c,0xbf,0x4f,0x22,0xb9,0x20,0xa7,0xd7,0x78,0x03,0x3b,0x02,0x79,0x29,0x77,0x5b,0xa4,0x32,0xba,0x6b,0x96,0x51,0xa9,0xba,0xdc,0x33,0x9d,0xe6,0x20,0x23,0x00,0xd7,0xcd,0xf4,0x8f,0x92,0xdc,0xb6,0x5e,0x2b,0x9e,0xf0,0xa0,0xd1,0x6d,0x29,0xb2,0xe3,0x72,0x9f,0x9d,0xde,0x74,0x3e,0xdd,0xe5,0xba,0xfb,0xcc,0xbf,0x9b,0x99,0x30,0xf5,0x7e,0xd1,0xd0,0xf5,0x20,0x7e,0xc2,0x10,0x7d,0x9e,0xf2,0xd2,0xa8,0xea,0x7f,0xa8,0x61,0xb4,0x8e,0x7d,0x18,0x0b,0x10,0xf8,0x0b,0x71,0xb8,0xc7,0x49,0x86,0x7e,0xe8,0x38,0x85,0x3a,0xde,0xee,0x30,0xd5,0x53,0x77,0xab,0xfe,0x62,0x00,0x33,0x47,0xa7,0xf1,0x9a,0x23,0xe1,0x3a,0x1f,0x19,0xd1,0xf8,0xcc,0x3a,0x7c,0x61,0xc9,0xf8,0xce,0x9f,0xc6,0x53,0x24,0xba,0xd1,0x99,0x86,0xc2,0xf4,0xbd,0xe0,0x05,0x01,0x3d,0x27,0x83,0xbd,0x0d,0xe3,0x7d,0xca,0x70,0x1b,0xb3,0xde,0x24,0x57,0xd4,0x35,0x85,0xfe,0x42,0x6e,0x97,0x04,0x2e,0xbe,0x6d,0x70,0x2c,0xb8,0xb4,0xb0,0x51,0xdc,0x5d,0x68,0x7f,0x16,0x30,0x19,0x2a,0x2d,0x4b,0x5b,0xcc,0xa2,0x9c,0xe8,0xad,0xba,0xd7,0xac,0xa6,0x43,0xf4,0xe5,0x4d,0x3f,0x51,0x83,0xc4,0x5a,0x07,0xd0,0xb9,0x5c,0x5c,0xae,0xfe,0xe4,0xda,0x28,0x88,0x01,0x95,0x65,0x2b,0xa0,0x81,0x42,0xbc,0xac,0xdc,0xd8,0x11,0x90,0x75,0x25,0xf0,0x7a,0xc7,0x4b,0xd6,0x73,0xb3,0x6b,0x52,0xbd,0x71,0xff,0x00,0x0d,0xe3,0x20,0x75,0x68,0x7d,0x2c,0xc5,0x21,0xb2,0xf9,0x74,0x6b,0x78,0x2e,0x71,0x50,0xda,0x01,0x75,0x8b,0xa9,0x46,0x86,0x25,0x15,0x7d,0x60,0xe5,0x55,0x47,0xb4,0x05,0xd8,0xfb,0x6b,0x9c,0xa3,0x3a,0x96,0x8f,0xb9,0x86,0x82,0xe7,0xb2,0x22,0xde,0xdd,0x9f,0x0e,0xee,0x02,0xc0,0x4b,0x99,0xb4,0x56,0xea,0x01,0xab,0x75,0xd6,0xff,0x00,0x0c,0x4b,0x67,0x5f,0x4d,0x6a,0x9a,0x1f,0xd5,0x0c,0xbf,0xb1,0x90,0xe6,0x4f,0xb6,0x7f,0xff,0xda,0x00,0x0c,0x03,0x01,0x00,0x02,0x00,0x03,0x00,0x00,0x00,0x10,0x02,0xce,0xbc,0xff,0x00,0x6c,0x76,0xe7,0xc2,0xf1,0xef,0xda,0xcb,0x35,0x4f,0x13,0x78,0xa2,0x2e,0xfa,0x09,0xb7,0x62,0xf9,0xea,0x67,0x47,0xc3,0x02,0x3d,0xae,0xbf,0xe2,0xe7,0xa4,0x01,0xc3,0x8c,0x68,0xae,0x5b,0xc0,0x24,0xe5,0xaa,0x2a,0x7b,0xad,0x40,0x71,0xe9,0xe2,0x39,0xd6,0x77,0x3e,0xcb,0x0c,0x11,0xa1,0xbe,0x7b,0xff,0xc4,0x00,0x27,0x11,0x01,0x00,0x02,0x02,0x00,0x05,0x04,0x01,0x05,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x11,0x21,0x31,0x10,0x41,0x51,0x61,0xa1,0x20,0x71,0x91,0xb1,0xd1,0x30,0xc1,0xe1,0xf0,0xf1,0xff,0xda,0x00,0x08,0x01,0x03,0x01,0x01,0x3f,0x10,0xe0,0x64,0xb8,0x25,0xc2,0x94,0x3d,0xe5,0x6b,0xa2,0x51,0x0e,0x65,0x41,0x0b,0x4e,0xbd,0x0d,0x2c,0xa0,0x54,0x57,0xff,0x00,0x08,0x8d,0xbb,0x7f,0x79,0x58,0xed,0x18,0x56,0x5f,0x01,0xbf,0x87,0x01,0xd0,0x99,0x17,0x77,0xca,0x3b,0x91,0x0c,0x33,0x77,0xb7,0x89,0x8b,0x4c,0x6a,0xe6,0x90,0xc1,0x2e,0x7f,0x61,0x2c,0x2c,0xae,0xf1,0x0e,0xe1,0x8c,0x43,0x30,0x4a,0x25,0x8d,0x76,0x8d,0xb6,0x3e,0x4a,0x75,0xd7,0xee,0x77,0x9f,0x12,0xa9,0xcf,0x0a,0x60,0x7c,0xcd,0xf2,0xfd,0xb8,0x51,0x46,0x6f,0x1e,0xd5,0xce,0x50,0x34,0x47,0x53,0xcf,0x7e,0xe5,0x70,0x2c,0xdf,0xbe,0x35,0x50,0x1e,0x6a,0x5e,0x03,0xf2,0x47,0x80,0x2c,0xae,0x47,0xd7,0xa1,0xbb,0x77,0x1d,0x4f,0x3d,0xfb,0x8d,0x6e,0xf6,0x74,0x8a,0xda,0x2f,0x76,0xe7,0x28,0xc7,0xa0,0xc0,0xeb,0x98,0xfe,0x23,0xa9,0xe6,0xbf,0x73,0x76,0x48,0xb3,0x6b,0x98,0x82,0xca,0xbd,0xf8,0x0f,0xcf,0x1d,0x62,0x01,0xa6,0x8e,0xf1,0xe8,0x1e,0x7f,0x31,0xd9,0x73,0xfd,0x0f,0xff,0xc4,0x00,0x24,0x11,0x00,0x03,0x00,0x01,0x03,0x03,0x04,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x11,0x31,0x10,0x21,0x61,0x41,0x51,0xa1,0x20,0x71,0x81,0xb1,0x91,0xd1,0xe1,0xff,0xda,0x00,0x08,0x01,0x02,0x01,0x01,0x3f,0x10,0xd1,0xa8,0x51,0x44,0x65,0x64,0x9e,0x94,0xe6,0x04,0xd2,0x10,0x68,0x87,0x91,0x52,0xba,0x34,0x83,0x97,0xce,0x89,0xf0,0x15,0x4c,0x5b,0xee,0x55,0x81,0x95,0x25,0xb9,0xef,0x62,0x50,0xa8,0x4e,0x60,0xa4,0x50,0x9e,0x45,0x69,0xb0,0x5b,0x67,0x74,0xce,0x27,0xe4,0x4e,0xad,0x86,0xe2,0xa5,0x6e,0x9e,0xdf,0xd1,0x2b,0x54,0xd5,0xee,0xa3,0x11,0x98,0x21,0xb6,0xa6,0xc2,0x9a,0x58,0x2c,0x9e,0x3a,0xfa,0x1c,0xd8,0xe4,0x15,0x15,0x0a,0x93,0x05,0xaa,0x4e,0x0b,0x27,0x8e,0xbe,0x88,0x90,0x57,0xb8,0x85,0x84,0x74,0x27,0x0b,0xb8,0xb5,0x61,0xa7,0xb7,0x3b,0xfc,0x8b,0x27,0x8a,0xbe,0x89,0x10,0x8e,0xe9,0x32,0x28,0x24,0x4d,0x54,0xfb,0xc5,0x74,0x9b,0xd1,0x72,0x3a,0x88,0x24,0x75,0x7e,0x3f,0x42,0xd4,0x9d,0x3d,0x6c,0xff,0xc4,0x00,0x26,0x10,0x01,0x00,0x02,0x02,0x01,0x03,0x03,0x05,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x11,0x21,0x31,0x41,0x51,0x61,0x71,0x10,0x91,0xd1,0x81,0xa1,0xb1,0xe1,0xf0,0xc1,0xf1,0xff,0xda,0x00,0x08,0x01,0x01,0x00,0x01,0x3f,0x10,0x1f,0xeb,0x87,0xc0,0x7f,0x08,0x87,0x4f,0xd2,0x57,0x3e,0x39,0x5b,0xf5,0xca,0xdf,0xae,0x56,0xfd,0x72,0xb7,0xeb,0x95,0xbf,0x5c,0xad,0xfa,0xe5,0x6f,0xd7,0x2b,0x7e,0xb9,0x5b,0xf5,0xca,0xdf,0xae,0x56,0xfd,0x72,0xb7,0xeb,0x95,0xbf,0x5c,0xad,0xfa,0xe5,0x47,0x48,0x0e,0xc0,0x9a,0x3b,0xc6,0x2e,0x15,0x04,0x18,0x54,0xb7,0xcc,0x7e,0xd6,0xb6,0x1c,0x0e,0x32,0x54,0x13,0x43,0xfb,0xe6,0x10,0xca,0xa4,0xce,0x2e,0x5f,0x4c,0xd2,0x64,0x3d,0x11,0xd8,0x61,0x8b,0xdf,0x71,0x6e,0xc2,0x9e,0x9b,0x9c,0xe9,0xcc,0x2e,0xbe,0xb3,0xbc,0x0b,0xef,0x7e,0x9c,0x7d,0xe0,0x55,0x58,0x1c,0x6e,0x3b,0x3d,0x63,0x65,0x1a,0xbf,0x02,0xc3,0x2e,0xbc,0x4b,0x7b,0x87,0x93,0xbc,0xec,0x7f,0x2a,0xb6,0xd4,0x4c,0x54,0xd1,0xfd,0xe6,0x33,0x07,0xed,0x00,0xea,0xb2,0xd0,0x6b,0xfd,0xf3,0xe9,0xb3,0xc4,0x37,0xe4,0xfc,0x99,0x41,0x81,0x49,0xdb,0xbc,0x02,0xf4,0xda,0x6c,0x1f,0x24,0x27,0x80,0x83,0x50,0xd3,0x01,0x78,0x03,0x38,0x4f,0xcd,0x4b,0xc1,0x5d,0xf2,0x94,0x64,0xfc,0x7e,0x50,0x7d,0x03,0x49,0x61,0x84,0xd3,0xaf,0xc9,0x15,0x42,0x94,0x69,0xe6,0xe1,0x1d,0x49,0xf9,0x44,0x3e,0xd7,0xfc,0xcb,0x44,0x3e,0x43,0x56,0x55,0xfe,0x4b,0x19,0x2e,0xc7,0x63,0xd4,0x63,0x1b,0xd9,0x5b,0x2d,0x51,0xc7,0x51,0xa6,0xa3,0x8c,0x84,0x16,0x10,0x3a,0xb2,0xfa,0xfd,0xde,0x9b,0x3c,0x4a,0x28,0x15,0xe4,0x57,0x56,0x67,0x65,0x1b,0x8c,0x9b,0x5e,0x4e,0x95,0xf7,0x8a,0x02,0xba,0x22,0xa0,0xbf,0x58,0xd0,0x9d,0x37,0x85,0xfb,0x44,0x2c,0x0a,0x2e,0x09,0x8e,0x94,0xf3,0x15,0x95,0x5a,0x51,0x2c,0xca,0xde,0xf3,0xb8,0x62,0x9c,0x1a,0x64,0x36,0xed,0x8b,0xb3,0x4b,0xe6,0xc8,0x91,0x5a,0x0e,0xb9,0xc8,0x67,0xf3,0x29,0x56,0xf1,0x96,0xd2,0x12,0xef,0x7e,0x16,0xed,0x74,0x6a,0x0d,0xd9,0xf8,0x65,0x34,0xa0,0xe7,0x00,0x2c,0xbb,0xf4,0x63,0x1a,0x80,0x2a,0x94,0x6a,0xcc,0xb8,0xbc,0xd8,0xed,0xdd,0x5e,0x3f,0xd8,0x82,0xd0,0xfe,0x77,0xf4,0xd9,0xe2,0x34,0xd0,0x43,0x62,0x84,0xb6,0x55,0x36,0x37,0xf4,0xa8,0xcf,0x5f,0x38,0x65,0xb8,0x2b,0x1c,0x65,0x8d,0xf1,0xcc,0x44,0xc4,0x92,0x9b,0x8b,0x9d,0xd5,0xd0,0xd6,0x7d,0xbb,0xcb,0x61,0xd8,0xf6,0xcd,0xe5,0x6f,0xa5,0x60,0xbc,0xde,0xa0,0xb2,0x42,0x10,0x0e,0x17,0x83,0x6e,0x57,0xda,0x2d,0x60,0x4e,0x89,0x34,0xa1,0xe2,0x2e,0x96,0x95,0x2d,0x16,0x36,0xf6,0xc3,0x16,0x8a,0xb5,0x54,0x87,0x3e,0x4e,0x91,0x45,0xbc,0x0e,0xcb,0x8c,0x1b,0xf8,0xa8,0x41,0x77,0x7f,0x74,0x47,0x00,0xb6,0x27,0x33,0x63,0xf3,0x06,0x8b,0x6d,0x48,0x39,0xf5,0xf4,0x94,0x67,0xf4,0x17,0xd3,0x67,0x88,0x26,0x06,0x8d,0x82,0xdd,0x88,0xd6,0x5c,0x1b,0xa7,0xb4,0x28,0x3d,0x15,0x81,0xac,0x05,0xe8,0x30,0x75,0xed,0x17,0x42,0x59,0x4f,0x01,0xae,0x71,0x6d,0x15,0x1e,0x94,0x25,0xc2,0xe0,0xe2,0x97,0xaf,0xe6,0xe2,0x44,0xe5,0x1e,0xf7,0x8b,0xf1,0xd6,0x02,0xf7,0x35,0x42,0xd7,0xca,0xc0,0xc6,0x79,0x80,0x56,0x8b,0xea,0x50,0x95,0x9d,0xdf,0xf3,0x18,0x3e,0xc8,0xcd,0x75,0xd8,0x29,0xa1,0xef,0xde,0x34,0xaa,0x0b,0x77,0x2e,0x1f,0x48,0x54,0x17,0x03,0x87,0x43,0xf3,0x1e,0x2e,0x89,0xfb,0xa3,0xc3,0x3b,0xcb,0xcc,0x70,0x64,0x33,0xa0,0xb5,0xed,0x0c,0x39,0x10,0xf4,0xa2,0x7f,0x63,0xfe,0xc6,0xbc,0x1e,0xdf,0x24,0x4e,0x81,0xaa,0xfd,0x35,0x5e,0x75,0x50,0x40,0x19,0x89,0x3e,0xc0,0x75,0xc7,0xd6,0x20,0xc9,0x72,0xae,0x1d,0xe2,0xb9,0x75,0xfb,0x8e,0xb2,0x97,0x52,0x56,0xd8,0x2b,0x8f,0xbc,0x2c,0x09,0x11,0x84,0x79,0xe2,0x5e,0x06,0x82,0x61,0x79,0x4a,0xd9,0x9c,0xf7,0x81,0xc3,0x28,0xb5,0x5e,0xe4,0x06,0xf8,0x07,0x7f,0xda,0x58,0xc2,0x0a,0x82,0x07,0x76,0xa2,0x72,0xe0,0x21,0xd6,0xd9,0xc1,0x41,0xb7,0xeb,0x8d,0x3b,0x99,0x5e,0xac,0xd0,0x0e,0x55,0xf8,0xba,0x89,0xb5,0xc2,0x77,0x76,0x82,0xba,0xe2,0x8a,0xe6,0xc6,0x68,0x36,0xd6,0xa5,0x4b,0xbc,0xa9,0x41,0x2c,0x58,0x60,0x16,0xeb,0xc7,0x19,0x9a,0x0d,0xe3,0x2d,0xd0,0xa7,0xfb,0xa4,0xa3,0xa4,0x25,0xb1,0xc4,0x08,0xa2,0xdb,0x51,0xda,0x25,0x49,0x70,0x5a,0xf9,0xf4,0xb7,0xd8,0x67,0x50,0x63,0x1f,0x07,0x8c,0x2f,0xd1,0x44,0xd1,0x65,0x2b,0xfb,0x07,0xe1,0x98,0x91,0xc4,0xdd,0x72,0x19,0x63,0xac,0xce,0xb0,0x9e,0xbb,0xab,0xbd,0x83,0x36,0xad,0xe9,0xd1,0x35,0x6a,0x5a,0xc0,0xe4,0x47,0xd2,0xb8,0x14,0x6b,0xef,0x03,0xd5,0xb7,0xb8,0xc2,0x4d,0xea,0x8b,0xfa,0x6f,0xa1,0x99,0xae,0x95,0x0e,0x0d,0xb4,0xbc,0x28,0xb7,0x1c,0x4f,0x24,0x15,0x49,0x95,0x4f,0x15,0xa2,0x90,0xb7,0x86,0x6f,0xfd,0x86,0xe2,0xcb,0x2f,0xfb,0x73,0x1b,0x0d,0x41,0x6c,0xaa,0xaf,0x54,0xea,0x96,0xf6,0x36,0x4e,0xfa,0x58,0xb7,0x67,0x8f,0x4d,0xde,0x25,0xa1,0x79,0x82,0x6b,0x68,0x3c,0x77,0x32,0xf9,0xf4,0x8f,0xe1,0x40,0x38,0x1d,0xa3,0xc8,0x5b,0xdd,0x60,0xab,0xaa,0x4a,0x82,0xe3,0xb6,0xfa,0xfb,0xac,0x1a,0x84,0x43,0xed,0x75,0x1c,0x2d,0x19,0x4b,0x69,0xc1,0xbc,0x63,0xd0,0x93,0xa1,0x30,0xb7,0x67,0x93,0xe5,0xdc,0x1e,0x16,0xd5,0xda,0xb3,0x2f,0x8c,0x1d,0x87,0xa5,0x44,0x4f,0x04,0x8a,0x44,0x70,0x89,0xc4,0xb6,0x25,0x28,0x20,0x81,0x0c,0x1e,0x34,0x89,0x6b,0x3b,0xc4,0xb8,0x1b,0xc6,0xb9,0xf3,0x09,0x5a,0x90,0xfb,0x68,0xd5,0x2c,0xc2,0x9f,0x56,0x30,0x30,0xe9,0x96,0xf4,0x5a,0x2a,0x73,0x9e,0xbe,0x22,0xcb,0xfa,0xc1,0x3f,0xad,0xff,0x00,0x63,0x55,0x36,0x3f,0xac,0xc0,0x62,0x6b,0x8b,0x1c,0xb9,0x23,0x63,0x56,0xb2,0x1a,0xdc,0xf0,0xd9,0xd7,0x51,0x33,0x6e,0xc2,0xd3,0xdc,0xab,0xc5,0xc3,0x87,0x39,0x7a,0x3b,0x21,0x0d,0x76,0x18,0xb8,0x70,0xdb,0x17,0xcc,0x14,0x56,0xc3,0x76,0x19,0xc0,0xe4,0x75,0xd4,0x87,0x07,0x3d,0x3b,0x80,0xfc,0xbd,0x1f,0xb6,0xfc,0x47,0xa0,0x3b,0xdd,0x97,0x77,0xff,0x00,0x23,0xc1,0x26,0xa2,0x19,0x4a,0x34,0xac,0xcb,0x64,0x9b,0xa0,0x3c,0x46,0xe7,0x50,0x54,0x5c,0xc3,0x43,0x2e,0xa4,0x1c,0x1e,0x9b,0x20,0x2b,0x4c,0xb3,0xc4,0x05,0x7f,0x38,0xcb,0x13,0x3f,0x40,0xbb,0x1c,0x2f,0xb1,0xfa,0xa4,0xb4,0x73,0xb3,0x67,0x2f,0x68,0xc6,0x3b,0x1f,0x96,0x03,0xc9,0xf4,0xfc,0x45,0x6e,0xef,0xab,0xbf,0x6d,0x4a,0x88,0x71,0x51,0x90,0x5b,0xf8,0xc5,0xfa,0x2f,0x65,0xf8,0x99,0x92,0xf3,0x04,0x09,0x0e,0xf0,0x0a,0x88,0xc4,0x49,0x70,0xff,0x00,0xb6,0xf4,0xd9,0x0a,0xce,0xda,0x45,0x65,0x5d,0x13,0xcb,0x6a,0x1c,0x74,0xa0,0xde,0xe6,0xfe,0x8f,0x7b,0xd6,0x10,0x30,0x42,0x5d,0xfe,0x8d,0xf1,0x37,0x3f,0xe4,0x2c,0xa7,0x93,0x30,0x07,0x77,0x98,0x2b,0xde,0x48,0x3f,0x7b,0x31,0xab,0x68,0x0c,0x94,0xaa,0x33,0x85,0xc0,0x2a,0x60,0x9f,0x43,0x1f,0xb2,0xfc,0x45,0x86,0x0f,0xd9,0x19,0xab,0x8c,0x0a,0x38,0x85,0x9d,0xdf,0x99,0x5d,0x8f,0x6f,0x4d,0x93,0x80,0x27,0x5c,0xaf,0x9c,0xaf,0x92,0x6c,0x93,0xde,0x52,0x42,0x3a,0x19,0x2f,0x83,0x98,0xbd,0x96,0x65,0x96,0x5f,0x0a,0x31,0x7f,0x63,0x97,0xd3,0xe1,0xa7,0xa7,0x60,0x7c,0x10,0x2b,0xf8,0x97,0x3e,0x2a,0x9a,0x57,0x05,0xd9,0x03,0xb5,0x8c,0xb2,0x34,0xbc,0x39,0x0a,0x7b,0xa2,0xc0,0xf4,0x40,0xaf,0xf9,0x3e,0xb1,0x14,0xb1,0xc1,0x68,0xdf,0xb3,0x18,0x21,0xc1,0x09,0x77,0xcd,0xc5,0xb4,0xe0,0xef,0xde,0x30,0xb1,0xac,0x0e,0x1f,0x4d,0x90,0x1a,0xbc,0x32,0xa6,0x31,0xee,0x79,0xf4,0x97,0x6a,0xc1,0x5b,0x5b,0x95,0xe4,0x06,0x47,0x27,0x60,0x62,0x80,0x33,0xa2,0x0b,0x40,0xee,0x7d,0x6a,0x28,0xac,0xae,0x8d,0xf7,0x63,0x55,0x81,0x54,0xc3,0x79,0x6c,0xe4,0xe2,0xda,0xa0,0xea,0x93,0x43,0x5e,0x97,0xb4,0x71,0xaa,0x0e,0x81,0xbd,0xfa,0x0c,0x3f,0xcc,0x91,0x11,0x68,0xc8,0xa5,0xed,0xb7,0x64,0xcc,0x06,0xdb,0xf5,0x7f,0x9b,0x23,0x23,0x84,0xa0,0xc4,0x54,0xaa,0x73,0x0d,0x65,0x67,0x7f,0x1b,0xa2,0x06,0x52,0xa5,0xe2,0xd8,0x92,0xf6,0x6d,0x77,0x9b,0x6e,0x5d,0x45,0x14,0x40,0xe4,0x00,0x66,0xb1,0xc7,0x5e,0x6e,0x60,0x0b,0x0f,0xc4,0xab,0x4d,0xe6,0xfd,0x36,0x4c,0x35,0xb3,0x38,0xb5,0x88,0x6a,0x35,0x75,0xa4,0xea,0xfb,0xc0,0xc4,0x04,0xa4,0x95,0xfd,0x0c,0xee,0xca,0xb2,0x8d,0xfd,0x05,0xfb,0xc2,0x29,0x0e,0x85,0xec,0xa4,0x04,0x23,0xa2,0x0f,0xa1,0x2b,0x8d,0xc0,0xb7,0xdf,0xbc,0xaa,0x64,0x0a,0xb3,0x67,0x8b,0x83,0x56,0x8a,0x25,0x58,0x55,0x6e,0x5d,0x77,0x2e,0x8a,0x65,0xdb,0x1c,0x39,0xe7,0xd0,0x81,0x5e,0xab,0x31,0x9d,0x70,0xca,0x52,0x64,0xab,0x2f,0x3d,0x22,0x03,0xe6,0x3f,0x07,0xa6,0xc8,0xe4,0x4d,0x44,0x37,0xee,0x4f,0xf8,0xcf,0xcc,0xff,0x00,0x8c,0xfc,0xcf,0xf9,0xcf,0xcc,0xff,0x00,0x9c,0xfc,0xc3,0x6a,0x9f,0x0f,0xcc,0xff,0x00,0xa0,0xf9,0x96,0xfd,0xaf,0x57,0xcc,0x2d,0xff,0x00,0x47,0xcc,0x3f,0x70,0xf9,0x8f,0xc8,0x1f,0x30,0x8f,0xfa,0x3e,0x63,0x67,0xfa,0x3e,0x62,0x0a,0x79,0x67,0xb1,0xce,0x6f,0x10,0x9c,0xd1,0x46,0xc7,0x5c,0xb3,0xe2,0x0e,0x08,0xc0,0x0a,0x8f,0xbf,0xa6,0x0e,0x16,0x42,0x86,0x6e,0x60,0xd5,0xb7,0x67,0x66,0x07,0xad,0x36,0x88,0x0d,0xc0,0xab,0xe8,0xb3,0x0d,0xe8,0x62,0x7d,0x16,0xb3,0xf0,0xb2,0xc6,0xcc,0x59,0x81,0xdb,0xd6,0xe2,0xa5,0xa0,0x00,0xb7,0x8a,0x71,0xca,0x7b,0xe1,0x6c,0x82,0xca,0x6d,0xf9,0x27,0xde,0x5a,0x9d,0x80,0x86,0x8b,0xab,0xa6,0xb5,0xd2,0x32,0x59,0xd0,0x3a,0xd0,0x58,0x42,0xd1,0xb5,0xe9,0x55,0x90,0x02,0xea,0x94,0x01,0xdf,0x05,0x57,0x0d,0x6c,0x9c,0x46,0x41,0x47,0x73,0xb5,0x93,0x0e,0xea,0x7d,0x62,0x01,0xb3,0x4b,0x68,0x00,0x2b,0xbd,0xbe,0xd2,0xa0,0xf0,0x32,0x85,0x00,0x6d,0x59,0x48,0x98,0x10,0x8f,0x20,0x06,0x42,0x27,0x2d,0x94,0x22,0x2a,0x4a,0xd9,0x41,0xc1,0x56,0x8f,0x72,0x55,0x4e,0xb5,0xb6,0xa5,0x64,0x30,0xff,0x00,0x20,0x0a,0x33,0x5b,0x1b,0x85,0x2e,0xdd,0x43,0xc7,0x4f,0x4d,0x9e,0x27,0x2f,0x97,0xf3,0x32,0x56,0x10,0xb0,0x1e,0xd6,0x9c,0x2a,0xae,0x91,0x71,0x05,0xd0,0x00,0x12,0xea,0xa0,0xb1,0xd7,0x37,0xda,0xa3,0x7d,0x31,0x6d,0xa2,0x8f,0xb2,0xd2,0x50,0x82,0x06,0x6d,0x33,0x63,0xca,0x50,0x0b,0x77,0x94,0xf3,0x8d,0x8b,0x59,0x3b,0x73,0x06,0xa4,0x07,0x87,0xcd,0x64,0xde,0xce,0x2a,0x8a,0xbc,0x81,0x80,0x8c,0xe4,0x2d,0x6b,0xef,0x82,0x31,0x27,0xb6,0x0a,0x76,0x5d,0xaa,0xb4,0x5a,0xae,0xa2,0x20,0xe4,0x5e,0x07,0x44,0xfa,0xd9,0xe4,0x3a,0x4e,0x23,0xae,0x02,0x8a,0xef,0xb8,0xb1,0x3d,0xc8,0xaa,0x4e,0x8a,0xa7,0x90,0x38,0xf0,0x76,0x41,0x84,0x7a,0xa0,0x54,0x30,0xa0,0x0c,0x29,0xa9,0xd0,0xaa,0x5e,0xa0,0xaf,0x81,0x55,0xda,0xa5,0x15,0xc0,0xd6,0xab,0x57,0x65,0x55,0x77,0x3f,0xff,0xd9};


//#define rt_thread_sleep mydelay
	
static void rt_thread_sleep(unsigned int x){
	//utimer_sleep(10);
}


/* Private typedef -----------------------------------------------------------*/
/* Private define ------------------------------------------------------------*/
#define  TIMEOUT  2
#define CLR_BAR_EN		0
/* Private macro -------------------------------------------------------------*/
/* Private variables ---------------------------------------------------------*/
/* QQVGA 160x120 */
const char OV2640_QQVGA[][2]=
{
  0xff, 0x00,
  0x2c, 0xff,
  0x2e, 0xdf,
  0xff, 0x01,
  0x3c, 0x32,
  0x11, 0x00,
  0x09, 0x02,
  0x03, 0xcf,
  0x04, 0x08,
  0x13, 0xe5,
  0x14, 0x48,
  0x2c, 0x0c,
  0x33, 0x78,
  0x3a, 0x33,
  0x3b, 0xfb,
  0x3e, 0x00,
  0x43, 0x11,
  0x16, 0x10,
  0x39, 0x02,
  0x35, 0x88,
  0x22, 0x0a,
  0x37, 0x40,
  0x23, 0x00,
  0x34, 0xa0,
  0x36, 0x1a,
  0x06, 0x02,
  0x07, 0xc0,
  0x0d, 0xb7,
  0x0e, 0x01,
  0x4c, 0x00,
  0x4a, 0x81,
  0x21, 0x99,
  0x24, 0x3a,
  0x25, 0x32,
  0x26, 0x82,
  0x5c, 0x00,
  0x63, 0x00,
  0x5d, 0x55,
  0x5e, 0x7d,
  0x5f, 0x7d,
  0x60, 0x55,
  0x61, 0x70,
  0x62, 0x80,
  0x7c, 0x05,
  0x20, 0x80,
  0x28, 0x30,
  0x6c, 0x00,
  0x6d, 0x80,
  0x6e, 0x00,
  0x70, 0x02,
  0x71, 0x96,
  0x73, 0xe1,
  0x3d, 0x34,
  0x5a, 0x57,
  0x4f, 0xbb,
  0x50, 0x9c,
  0x0f, 0x43,
  0xff, 0x00,
  0xe5, 0x7f,
  0xf9, 0xc0,
  0x41, 0x24,
  0xe0, 0x14,
  0x76, 0xff,
  0x33, 0xa0,
  0x42, 0x20,
  0x43, 0x18,
  0x4c, 0x00,
  0x87, 0xd0,
  0x88, 0x3f,
  0xd7, 0x03,
  0xd9, 0x10,
  0xd3, 0x82,
  0xc8, 0x08,
  0xc9, 0x80,
  0x7c, 0x00,
  0x7d, 0x02,
  0x7c, 0x03,
  0x7d, 0x48,
  0x7d, 0x48,
  0x7c, 0x08,
  0x7d, 0x20,
  0x7d, 0x10,
  0x7d, 0x0e,
  0x90, 0x00,
  0x91, 0x0e,
  0x91, 0x1a,
  0x91, 0x31,
  0x91, 0x5a,
  0x91, 0x69,
  0x91, 0x75,
  0x91, 0x7e,
  0x91, 0x88,
  0x91, 0x8f,
  0x91, 0x96,
  0x91, 0xa3,
  0x91, 0xaf,
  0x91, 0xc4,
  0x91, 0xd7,
  0x91, 0xe8,
  0x91, 0x20,
  0x92, 0x00,
  0x93, 0x06,
  0x93, 0xe3,
  0x93, 0x05,
  0x93, 0x05,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x96, 0x00,
  0x97, 0x08,
  0x97, 0x19,
  0x97, 0x02,
  0x97, 0x0c,
  0x97, 0x24,
  0x97, 0x30,
  0x97, 0x28,
  0x97, 0x26,
  0x97, 0x02,
  0x97, 0x98,
  0x97, 0x80,
  0x97, 0x00,
  0x97, 0x00,
  0xc3, 0xed,
  0xa4, 0x00,
  0xa8, 0x00,
  0xbf, 0x00,
  0xba, 0xf0,
  0xbc, 0x64,
  0xbb, 0x02,
  0xb6, 0x3d,
  0xb8, 0x57,
  0xb7, 0x38,
  0xb9, 0x4e,
  0xb3, 0xe8,
  0xb4, 0xe1,
  0xb5, 0x66,
  0xb0, 0x67,
  0xb1, 0x5e,
  0xb2, 0x04,
  0xc7, 0x00,
  0xc6, 0x51,
  0xc5, 0x11,
  0xc4, 0x9c,
  0xcf, 0x02,
  0xa6, 0x00,
  0xa7, 0xe0,
  0xa7, 0x10,
  0xa7, 0x1e,
  0xa7, 0x21,
  0xa7, 0x00,
  0xa7, 0x28,
  0xa7, 0xd0,
  0xa7, 0x10,
  0xa7, 0x16,
  0xa7, 0x21,
  0xa7, 0x00,
  0xa7, 0x28,
  0xa7, 0xd0,
  0xa7, 0x10,
  0xa7, 0x17,
  0xa7, 0x21,
  0xa7, 0x00,
  0xa7, 0x28,
  0xc0, 0xc8,
  0xc1, 0x96,
  0x86, 0x1d,
  0x50, 0x00,
  0x51, 0x90,
  0x52, 0x18,
  0x53, 0x00,
  0x54, 0x00,
  0x55, 0x88,
  0x57, 0x00,
  0x5a, 0x90,
  0x5b, 0x18,
  0x5c, 0x05,
  0xc3, 0xef,
  0x7f, 0x00,
  0xda, 0x00,
  0xe5, 0x1f,
  0xe1, 0x67,
  0xe0, 0x00,
  0xdd, 0xff,
  0x05, 0x00,
  0xff, 0x01,
  0xff, 0x01,
  0x12, 0x00,
  0x17, 0x11,
  0x18, 0x75,
  0x19, 0x01,
  0x1a, 0x97,
  0x32, 0x36,
  0x4f, 0xbb,
  0x6d, 0x80,
  0x3d, 0x34,
  0x39, 0x02,
  0x35, 0x88,
  0x22, 0x0a,
  0x37, 0x40,
  0x23, 0x00,
  0x34, 0xa0,
  0x36, 0x1a,
  0x06, 0x02,
  0x07, 0xc0,
  0x0d, 0xb7,
  0x0e, 0x01,
  0x4c, 0x00,
  0xff, 0x00,
  0xe0, 0x04,
  0x8c, 0x00,
  0x87, 0xd0,
  0xe0, 0x00,
  0xff, 0x00,
  0xe0, 0x14,
  0xe1, 0x77,
  0xe5, 0x1f,
  0xd7, 0x03,
  0xda, 0x10,
  0xe0, 0x00,
  0xff, 0x00,
  0xe0, 0x04,
  0xc0, 0xc8,
  0xc1, 0x96,
  0x86, 0x1d,
  0x50, 0x00,
  0x51, 0x90,
  0x52, 0x2c,
  0x53, 0x00,
  0x54, 0x00,
  0x55, 0x88,
  0x57, 0x00,
  0x5a, 0x90,
  0x5b, 0x2c,
  0x5c, 0x05,
  0xe0, 0x00,
  0xd3, 0x04,
  0xff, 0x00,
  0xc3, 0xef,
  0xa6, 0x00,
  0xa7, 0xdd,
  0xa7, 0x78,
  0xa7, 0x7e,
  0xa7, 0x24,
  0xa7, 0x00,
  0xa7, 0x25,
  0xa6, 0x06,
  0xa7, 0x20,
  0xa7, 0x58,
  0xa7, 0x73,
  0xa7, 0x34,
  0xa7, 0x00,
  0xa7, 0x25,
  0xa6, 0x0c,
  0xa7, 0x28,
  0xa7, 0x58,
  0xa7, 0x6d,
  0xa7, 0x34,
  0xa7, 0x00,
  0xa7, 0x25,
  0xff, 0x00,
  0xe0, 0x04,
  0xe1, 0x67,
  0xe5, 0x1f,
  0xd7, 0x01,
  0xda, 0x08,
  0xda, 0x09,
  0xe0, 0x00,
  0x98, 0x00,
  0x99, 0x00,
  0xff, 0x01,
  0x04, 0x28,
  0xff, 0x01,
#if CLR_BAR_EN	> 0
  0x12, 0x42,	//0x42彩条测试使能
#else
  0x12, 0x40,
#endif
  0x17, 0x11,
  0x18, 0x43,
  0x19, 0x00,
  0x1a, 0x4b,
  0x32, 0x09,
  0x4f, 0xca,
  0x50, 0xa8,
  0x5a, 0x23,
  0x6d, 0x00,
  0x39, 0x12,
  0x35, 0xda,
  0x22, 0x1a,
  0x37, 0xc3,
  0x23, 0x00,
  0x34, 0xc0,
  0x36, 0x1a,
  0x06, 0x88,
  0x07, 0xc0,
  0x0d, 0x87,
  0x0e, 0x41,
  0x4c, 0x00,
  0xff, 0x00,
  0xe0, 0x04,
  0xc0, 0x64,
  0xc1, 0x4b,
  0x86, 0x35,
  0x50, 0x92,
  0x51, 0xc8,
  0x52, 0x96,
  0x53, 0x00,
  0x54, 0x00,
  0x55, 0x00,
  0x57, 0x00,
  0x5a, 0x28,
  0x5b, 0x1e,
  0x5c, 0x00,
  0xe0, 0x00,
  0xff, 0x01,
  0x11, 0x00,//时钟分频
  0x3d, 0x38,
  0x2d, 0x00,
  0x50, 0x65,
  0xff, 0x00,
  0xd3, 0x04,
  0x7c, 0x00,
  0x7d, 0x04,
  0x7c, 0x09,
  0x7d, 0x28,
  0x7d, 0x00,
};
/* QVGA 320x240 */
const unsigned char OV2640_QVGA[][2]=
{
  0xff, 0x00,
  0x2c, 0xff,
  0x2e, 0xdf,
  0xff, 0x01,
  0x3c, 0x32,
  0x11, 0x00,
  0x09, 0x02,
  0x04, 0x28,
  0x13, 0xe5,
  0x14, 0x48,
  0x2c, 0x0c,
  0x33, 0x78,
  0x3a, 0x33,
  0x3b, 0xfB,
  0x3e, 0x00,
  0x43, 0x11,
  0x16, 0x10,
  0x4a, 0x81,
  0x21, 0x99,
  0x24, 0x40,
  0x25, 0x38,
  0x26, 0x82,
  0x5c, 0x00,
  0x63, 0x00,
  0x46, 0x3f,
  0x0c, 0x3c,
  0x61, 0x70,
  0x62, 0x80,
  0x7c, 0x05,
  0x20, 0x80,
  0x28, 0x30,
  0x6c, 0x00,
  0x6d, 0x80,
  0x6e, 0x00,
  0x70, 0x02,
  0x71, 0x94,
  0x73, 0xc1,
  0x3d, 0x34,
  0x5a, 0x57,
#if CLR_BAR_EN	> 0
  0x12, 0x02,	//bit1彩条测试使能
#else
  0x12, 0x00,
#endif
  0x11, 0x00,
  0x17, 0x11,
  0x18, 0x75,
  0x19, 0x01,
  0x1a, 0x97,
  0x32, 0x36,
  0x03, 0x0f,
  0x37, 0x40,
  0x4f, 0xbb,
  0x50, 0x9c,
  0x5a, 0x57,
  0x6d, 0x80,
  0x6d, 0x38,
  0x39, 0x02,
  0x35, 0x88,
  0x22, 0x0a,
  0x37, 0x40,
  0x23, 0x00,
  0x34, 0xa0,
  0x36, 0x1a,
  0x06, 0x02,
  0x07, 0xc0,
  0x0d, 0xb7,
  0x0e, 0x01,
  0x4c, 0x00,
  0xff, 0x00,
  0xe5, 0x7f,
  0xf9, 0xc0,
  0x41, 0x24,
  0xe0, 0x14,
  0x76, 0xff,
  0x33, 0xa0,
  0x42, 0x20,
  0x43, 0x18,
  0x4c, 0x00,
  0x87, 0xd0,
  0x88, 0x3f,
  0xd7, 0x03,
  0xd9, 0x10,
  0xd3, 0x82,
  0xc8, 0x08,
  0xc9, 0x80,
  0x7d, 0x00,
  0x7c, 0x03,
  0x7d, 0x48,
  0x7c, 0x08,
  0x7d, 0x20,
  0x7d, 0x10,
  0x7d, 0x0e,
  0x90, 0x00,
  0x91, 0x0e,
  0x91, 0x1a,
  0x91, 0x31,
  0x91, 0x5a,
  0x91, 0x69,
  0x91, 0x75,
  0x91, 0x7e,
  0x91, 0x88,
  0x91, 0x8f,
  0x91, 0x96,
  0x91, 0xa3,
  0x91, 0xaf,
  0x91, 0xc4,
  0x91, 0xd7,
  0x91, 0xe8,
  0x91, 0x20,
  0x92, 0x00,
  0x93, 0x06,
  0x93, 0xe3,
  0x93, 0x02,
  0x93, 0x02,
  0x93, 0x00,
  0x93, 0x04,
  0x93, 0x00,
  0x93, 0x03,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x96, 0x00,
  0x97, 0x08,
  0x97, 0x19,
  0x97, 0x02,
  0x97, 0x0c,
  0x97, 0x24,
  0x97, 0x30,
  0x97, 0x28,
  0x97, 0x26,
  0x97, 0x02,
  0x97, 0x98,
  0x97, 0x80,
  0x97, 0x00,
  0x97, 0x00,
  0xc3, 0xeF,	//AWB等使能
  0xff, 0x00,
  0xba, 0xdc,
  0xbb, 0x08,
  0xb6, 0x24,
  0xb8, 0x33,
  0xb7, 0x20,
  0xb9, 0x30,
  0xb3, 0xb4,
  0xb4, 0xca,
  0xb5, 0x43,
  0xb0, 0x5c,
  0xb1, 0x4f,
  0xb2, 0x06,
  0xc7, 0x00,
  0xc6, 0x51,
  0xc5, 0x11,
  0xc4, 0x9c,
  0xbf, 0x00,
  0xbc, 0x64,
  0xa6, 0x00,
  0xa7, 0x1e,
  0xa7, 0x6b,
  0xa7, 0x47,
  0xa7, 0x33,
  0xa7, 0x00,
  0xa7, 0x23,
  0xa7, 0x2e,
  0xa7, 0x85,
  0xa7, 0x42,
  0xa7, 0x33,
  0xa7, 0x00,
  0xa7, 0x23,
  0xa7, 0x1b,
  0xa7, 0x74,
  0xa7, 0x42,
  0xa7, 0x33,
  0xa7, 0x00,
  0xa7, 0x23,
  0xc0, 0xc8,
  0xc1, 0x96,
  0x8c, 0x00,
  0x86, 0x3d,
  0x50, 0x92,
  0x51, 0x90,
  0x52, 0x2c,
  0x53, 0x00,
  0x54, 0x00,
  0x55, 0x88,
  0x5a, 0x50,
  0x5b, 0x3c,
  0x5c, 0x00,
  0xd3, 0x04,
  0x7f, 0x00,
  0xda, 0x00,
  0xe5, 0x1f,
  0xe1, 0x67,
  0xe0, 0x00,
  0xdd, 0x7f,
  0x05, 0x00,
  0xff, 0x00,
  0xe0, 0x04,
  0xc0, 0xc8,
  0xc1, 0x96,
  0x86, 0x3d,
  0x50, 0x92,
  0x51, 0x90,
  0x52, 0x2c,
  0x53, 0x00,
  0x54, 0x00,
  0x55, 0x88,
  0x57, 0x00,
  0x5a, 0x50,
  0x5b, 0x3c,
  0x5c, 0x00,
  0xd3, 0x04,
  0xe0, 0x00,
  0xFF, 0x00,
  0x05, 0x00,
  0xDA, 0x08,
  0xda, 0x09,
  0x98, 0x00,
  0x99, 0x00,
};


//xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx init ov
const unsigned char OV2640_JPEG_INIT[][2]=
{
  0xff, 0x00,
  0x2c, 0xff,
  0x2e, 0xdf,
  0xff, 0x01,
  0x3c, 0x32,
	0x11, 0xee,
  0x09, 0x02,
  0x04, 0x28,
  0x13, 0xe5,
  0x14, 0x48,
  0x2c, 0x0c,
  0x33, 0x78,
  0x3a, 0x33,
  0x3b, 0xfB,
  0x3e, 0x00,
  0x43, 0x11,
  0x16, 0x10,
  0x39, 0x92,
  0x35, 0xda,
  0x22, 0x1a,
  0x37, 0xc3,
  0x23, 0x00,
  0x34, 0xc0,
  0x36, 0x1a,
  0x06, 0x88,
  0x07, 0xc0,
  0x0d, 0x87,
  0x0e, 0x41,
  0x4c, 0x00,
  0x48, 0x00,
  0x5B, 0x00,
  0x42, 0x03,
  0x4a, 0x81,
  0x21, 0x99,
  0x24, 0x40,
  0x25, 0x38,
  0x26, 0x82,
  0x5c, 0x00,
  0x63, 0x00,
  0x61, 0x70,
  0x62, 0x80,
  0x7c, 0x05,
  0x20, 0x80,
  0x28, 0x30,
  0x6c, 0x00,
  0x6d, 0x80,
  0x6e, 0x00,
  0x70, 0x02,
  0x71, 0x94,
  0x73, 0xc1,
  0x12, 0x40,//0x40
  0x17, 0x11,
  0x18, 0x43,
  0x19, 0x00,
  0x1a, 0x4b,
  0x32, 0x09,
  0x37, 0xc0,
  0x4f, 0x60,
  0x50, 0xa8,
  0x6d, 0x00,
  0x3d, 0x38,
  0x46, 0x3f,
  0x4f, 0x60,
  0x0c, 0x3c,
  0xff, 0x00,
  0xe5, 0x7f,
  0xf9, 0xc0,
  0x41, 0x24,
  0xe0, 0x14,
  0x76, 0xff,
  0x33, 0xa0,
  0x42, 0x20,
  0x43, 0x18,
  0x4c, 0x00,
  0x87, 0xd5,
  0x88, 0x3f,
  0xd7, 0x03,
  0xd9, 0x10,
  //0xd3, 0x82,
	0xd3, 0xFF,
  0xc8, 0x08,
  0xc9, 0x80,
  0x7c, 0x00,
  0x7d, 0x00,
  0x7c, 0x03,
  0x7d, 0x48,
  0x7d, 0x48,
  0x7c, 0x08,
  0x7d, 0x20,
  0x7d, 0x10,
  0x7d, 0x0e,
  0x90, 0x00,
  0x91, 0x0e,
  0x91, 0x1a,
  0x91, 0x31,
  0x91, 0x5a,
  0x91, 0x69,
  0x91, 0x75,
  0x91, 0x7e,
  0x91, 0x88,
  0x91, 0x8f,
  0x91, 0x96,
  0x91, 0xa3,
  0x91, 0xaf,
  0x91, 0xc4,
  0x91, 0xd7,
  0x91, 0xe8,
  0x91, 0x20,
  0x92, 0x00,
  0x93, 0x06,
  0x93, 0xe3,
  0x93, 0x05,
  0x93, 0x05,
  0x93, 0x00,
  0x93, 0x04,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x93, 0x00,
  0x96, 0x00,
  0x97, 0x08,
  0x97, 0x19,
  0x97, 0x02,
  0x97, 0x0c,
  0x97, 0x24,
  0x97, 0x30,
  0x97, 0x28,
  0x97, 0x26,
  0x97, 0x02,
  0x97, 0x98,
  0x97, 0x80,
  0x97, 0x00,
  0x97, 0x00,
  0xc3, 0xed,
  0xa4, 0x00,
  0xa8, 0x00,
  0xc5, 0x11,
  0xc6, 0x51,
  0xbf, 0x80,
  0xc7, 0x10,
  0xb6, 0x66,
  0xb8, 0xA5,
  0xb7, 0x64,
  0xb9, 0x7C,
  0xb3, 0xaf,
  0xb4, 0x97,
  0xb5, 0xFF,
  0xb0, 0xC5,
  0xb1, 0x94,
  0xb2, 0x0f,
  0xc4, 0x5c,
  0xc0, 0x64,
  0xc1, 0x4B,
  0x8c, 0x00,
  0x86, 0x3D,
  0x50, 0x00,
  0x51, 0xC8,
  0x52, 0x96,
  0x53, 0x00,
  0x54, 0x00,
  0x55, 0x00,
  0x5a, 0xC8,
  0x5b, 0x96,
  0x5c, 0x00,
  0xd3, 0x7f,
  0xc3, 0xed,
  0x7f, 0x00,
  0xda, 0x00,
  0xe5, 0x1f,
  0xe1, 0x67,
  0xe0, 0x00,
  0xdd, 0x7f,
  0x05, 0x00,

  0x12, 0x40,//0x40
  0xd3, 0x7f,
  0xc0, 0x16,
  0xC1, 0x12,
  0x8c, 0x00,
  0x86, 0x3d,
  0x50, 0x00,
  0x51, 0x2C,
  0x52, 0x24,
  0x53, 0x00,
  0x54, 0x00,
  0x55, 0x00,
  0x5A, 0x2c,
  0x5b, 0x24,
  0x5c, 0x00,
};

const unsigned char OV2640_YUV422[][2]= 
{
  0xFF, 0x00,
  0x05, 0x00,
  0xDA, 0x10,
  0xD7, 0x03,
  0xDF, 0x00,
  0x33, 0x80,
  0x3C, 0x40,
  0xe1, 0x77,
  0x00, 0x00,
};

const unsigned char OV2640_JPEG[][2]=
{
  0xe0, 0x14,
  0xe1, 0x77,
  0xe5, 0x1f,
  0xd7, 0x03,
  0xda, 0x10,
  0xe0, 0x00,
  0xFF, 0x01,
  0x04, 0x08,
};

/* JPG 160x120 */
const unsigned char OV2640_160x120_JPEG[][2]=
{
  0xff, 0x01,
  0x12, 0x40,
  0x17, 0x11,
  0x18, 0x43,
  0x19, 0x00,
  0x1a, 0x4b,
  0x32, 0x09,
  0x4f, 0xca,
  0x50, 0xa8,
  0x5a, 0x23,
  0x6d, 0x00,
  0x39, 0x12,
  0x35, 0xda,
  0x22, 0x1a,
  0x37, 0xc3,
  0x23, 0x00,
  0x34, 0xc0,
  0x36, 0x1a,
  0x06, 0x88,
  0x07, 0xc0,
  0x0d, 0x87,
  0x0e, 0x41,
  0x4c, 0x00,
  0xff, 0x00,
  0xe0, 0x04,
  0xc0, 0x64,
  0xc1, 0x4b,
  0x86, 0x35,
  0x50, 0x92,
  0x51, 0xc8,
  0x52, 0x96,
  0x53, 0x00,
  0x54, 0x00,
  0x55, 0x00,
  0x57, 0x00,
  0x5a, 0x28,
  0x5b, 0x1e,
  //0x5a, 0x1e,
  //0x5b, 0x28,
	
  0x5c, 0x00,
  0xe0, 0x00,
};

/* JPG, 0x176x144 */
const unsigned char OV2640_176x144_JPEG[][2]=
{
  0xff, 0x01,
  0x12, 0x40,
  0x17, 0x11,
  0x18, 0x43,
  0x19, 0x00,
  0x1a, 0x4b,
  0x32, 0x09,
  0x4f, 0xca,
  0x50, 0xa8,
  0x5a, 0x23,
  0x6d, 0x00,
  0x39, 0x12,
  0x35, 0xda,
  0x22, 0x1a,
  0x37, 0xc3,
  0x23, 0x00,
  0x34, 0xc0,
  0x36, 0x1a,
  0x06, 0x88,
  0x07, 0xc0,
  0x0d, 0x87,
  0x0e, 0x41,
  0x4c, 0x00,
  0xff, 0x00,
  0xe0, 0x04,
  0xc0, 0x64,
  0xc1, 0x4b,
  0x86, 0x35,
  0x50, 0x92,
  0x51, 0xc8,
  0x52, 0x96,
  0x53, 0x00,
  0x54, 0x00,
  0x55, 0x00,
  0x57, 0x00,
  0x5a, 0x2c,
  0x5b, 0x24,
  0x5c, 0x00,
  0xe0, 0x00,
};

/* JPG 320x240 */
const unsigned char OV2640_320x240_JPEG[][2]=
{
	{0xff, 0x01},
  {0x11, 0x01},
  {0x12, 0x00}, // Bit[6:4]: Resolution selection//0x02为彩条
  {0x17, 0x11}, // HREFST[10:3]
  {0x18, 0x75}, // HREFEND[10:3]
  {0x32, 0x36}, // Bit[5:3]: HREFEND[2:0]; Bit[2:0]: HREFST[2:0]
  {0x19, 0x01}, // VSTRT[9:2]
  {0x1a, 0x97}, // VEND[9:2]
  {0x03, 0x0f}, // Bit[3:2]: VEND[1:0]; Bit[1:0]: VSTRT[1:0]
  {0x37, 0x40},
  {0x4f, 0xbb},
  {0x50, 0x9c},
  {0x5a, 0x57},
  {0x6d, 0x80},
  {0x3d, 0x34},
  {0x39, 0x02},
  {0x35, 0x88},
  {0x22, 0x0a},
  {0x37, 0x40},
  {0x34, 0xa0},
  {0x06, 0x02},
  {0x0d, 0xb7},
  {0x0e, 0x01},
  
  ////////////////
  /*
  //176*144
   0xff,      0x00,
      0xc0,      0xC8,
      0xc1,      0x96,
      0x8c,      0x00,
      0x86,      0x3D,
      0x50,      0x9B,
      0x51,      0x90,
      0x52,      0x2C,
      0x53,      0x00,
      0x54,      0x00,
      0x55,      0x88,
      0x5a,      0x2C,
      0x5b,      0x24,
      0x5c,      0x00,
      0xd3,      0x7F,
	  ////////////
	  */
	  
	 ////////////////
	 //320*240
	  0xff,      0x00,
      0xe0,      0x04,
      0xc0,      0xc8,
      0xc1,      0x96,
      0x86,      0x3d,
      0x50,      0x92,
      0x51,      0x90,
      0x52,      0x2c,
      0x53,      0x00,
      0x54,      0x00,
      0x55,      0x88,
      0x57,      0x00,
      0x5a,      0x50,
      0x5b,      0x3c,
      0x5c,      0x00,
      0xd3,      0x7F,
      0xe0,      0x00,
	  ///////////////////
	  
  /*
0xff,      0x00,
      0xe0,      0x04,
      0xc0,      0xc8,
      0xc1,      0x96,
      0x86,      0x35,
      0x50,      0x92,
      0x51,      0x90,
      0x52,      0x2c,
      0x53,      0x00,
      0x54,      0x00,
      0x55,      0x88,
      0x57,      0x00,
      0x5a,      0x58,
      0x5b,      0x48,
      0x5c,      0x00,
      0xd3,      0x08,
      0xe0,      0x00
*/
/*
//640*480	  
 	  0xff,      0x00,
      0xe0,      0x04,
      0xc0,      0xc8,
      0xc1,      0x96,
      0x86,      0x3d,
      0x50,      0x89,
      0x51,      0x90,
      0x52,      0x2c,
      0x53,      0x00,
      0x54,      0x00,
      0x55,      0x88,
      0x57,      0x00,
      0x5a,      0xa0,
      0x5b,      0x78,
      0x5c,      0x00,
      0xd3,      0x04,
      0xe0,      0x00
	  */
	  /////////////////////
	  /*
	  //800*600
	  0xff,      0x00,
      0xe0,      0x04,
      0xc0,      0xc8,
      0xc1,      0x96,
      0x86,      0x35,
      0x50,      0x89,
      0x51,      0x90,
      0x52,      0x2c,
      0x53,      0x00,
      0x54,      0x00,
      0x55,      0x88,
      0x57,      0x00,
      0x5a,      0xc8,
      0x5b,      0x96,
      0x5c,      0x00,
      0xd3,      0x02,
      0xe0,      0x00
	  */
	  /*
	  //1280*1024
	  
	  0xff,      0x00,
      0xe0,      0x04,
      0xc0,      0xc8,
      0xc1,      0x96,
      0x86,      0x3d,
      0x50,      0x00,
      0x51,      0x90,
      0x52,      0x2c,
      0x53,      0x00,
      0x54,      0x00,
      0x55,      0x88,
      0x57,      0x00,
      0x5a,      0x40,
      0x5b,      0xf0,
      0x5c,      0x01,
      0xd3,      0x02,
      0xe0,      0x00
	  */
	  /*
	  /////////////////////
	  //1600*1200
	  
	  0xff,      0x00,
      0xe0,      0x04,
      0xc0,      0xc8,
      0xc1,      0x96,
      0x86,      0x3d,
      0x50,      0x00,
      0x51,      0x90,
      0x52,      0x2c,
      0x53,      0x00,
      0x54,      0x00,
      0x55,      0x88,
      0x57,      0x00,
      0x5a,      0x90,
      0x5b,      0x2C,
      0x5c,      0x05,//bit2->1;bit[1:0]->1
      0xd3,      0x02,
      0xe0,      0x00
	  /////////////////////
	  */
	  /*
	  //1024*768
	   0xff,      0x00,
      0xc0,      0xC8,
      0xc1,      0x96,
      0x8c,      0x00,
      0x86,      0x3D,
      0x50,      0x00,
      0x51,      0x90,
      0x52,      0x2C,
      0x53,      0x00,
      0x54,      0x00,
      0x55,      0x88,
      0x5a,      0x00,
      0x5b,      0xC0,
      0x5c,      0x01,
      0xd3,      0x02
	  */
};

/* JPG 352x288 */
const unsigned char OV2640_352x288_JPEG[][2]=
{
  0xff, 0x01,
  0x12, 0x40,
  0x17, 0x11,
  0x18, 0x43,
  0x19, 0x00,
  0x1a, 0x4b,
  0x32, 0x09,
  0x4f, 0xca,
  0x50, 0xa8,
  0x5a, 0x23,
  0x6d, 0x00,
  0x39, 0x12,
  0x35, 0xda,
  0x22, 0x1a,
  0x37, 0xc3,
  0x23, 0x00,
  0x34, 0xc0,
  0x36, 0x1a,
  0x06, 0x88,
  0x07, 0xc0,
  0x0d, 0x87,
  0x0e, 0x41,
  0x4c, 0x00,
  
  0xff, 0x00,
  0xe0, 0x04,
  0xc0, 0x64,
  0xc1, 0x4b,
  0x86, 0x35,
  0x50, 0x89,
  0x51, 0xc8,
  0x52, 0x96,
  0x53, 0x00,
  0x54, 0x00,
  0x55, 0x00,
  0x57, 0x00,
  0x5a, 0x58,
  0x5b, 0x48,
  0x5c, 0x00,
  0xe0, 0x00,
  
  
};


/* Private function prototypes -----------------------------------------------*/
/* Private functions ---------------------------------------------------------*/

/**
  * @brief  Initializes the hardware resources (I2C and GPIO) used to configure 
  *         the OV2640 camera.
  * @param  None
  * @retval None
  */

extern void Exit_Init(GPIO_TypeDef* gpio_port,
		 	   u16 gpio_pin,
			   GPIOMode_TypeDef gpio_pin_mode,
			   EXTITrigger_TypeDef exit_type,
			   u8 pre_pri,
			   u8 sub_pri);

#define	DIS_BORD_EN		0


#define EXTI_Trigger_TYPE		EXTI_Trigger_Falling


void OV2640_CaptureGpioInit(void)
{
	
	GPIO_InitTypeDef GPIO_InitStructure;
  EXTI_InitTypeDef EXTI_InitStructure;
  NVIC_InitTypeDef NVIC_InitStructure;
	
	
	memset(&GPIO_InitStructure,0x0,sizeof(GPIO_InitStructure));
	
	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB,ENABLE);
	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOC,ENABLE);
	RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO,ENABLE); 
	//RCC_APB2PeriphClockCmd(RCC_APB2Periph_SYSCFG, ENABLE);
	
	GPIO_InitStructure.GPIO_Pin =  GPIO_Pin_0 | GPIO_Pin_1 | GPIO_Pin_2 | GPIO_Pin_3 | GPIO_Pin_4 | GPIO_Pin_5 | GPIO_Pin_6 | GPIO_Pin_7; 
	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz; 
	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING; 
	GPIO_Init(GPIOB, &GPIO_InitStructure); 
	
	
	GPIO_InitStructure.GPIO_Pin =  GPIO_Pin_8;						//VSYNC
	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz; 
	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING; 
	GPIO_Init(GPIOB, &GPIO_InitStructure); 
	
	GPIO_InitStructure.GPIO_Pin =  GPIO_Pin_15;						//PCLK
	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz; 
	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING; 
	GPIO_Init(GPIOB, &GPIO_InitStructure); 
	
	GPIO_InitStructure.GPIO_Pin =  GPIO_Pin_13; 					//HREF
	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz; 
	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING; 
	GPIO_Init(GPIOC, &GPIO_InitStructure);
	

	
	
	GPIO_EXTILineConfig(GPIO_PortSourceGPIOB, GPIO_PinSource15);
	
	
	// Configure EXTI Line3 to generate an interrupt on falling edge
	EXTI_InitStructure.EXTI_Line = EXTI_Line15;
	EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;
	EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_TYPE;
	EXTI_InitStructure.EXTI_LineCmd = ENABLE;
	EXTI_Init(&EXTI_InitStructure);

	NVIC_PriorityGroupConfig(NVIC_PriorityGroup_0);
 
	NVIC_InitStructure.NVIC_IRQChannel = EXTI15_10_IRQn; //PPP?????
	NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;
	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
	NVIC_Init(&NVIC_InitStructure);

	
}

void disable_href_isr(void)
{
	EXTI_InitTypeDef EXTI_InitStructure;
  NVIC_InitTypeDef NVIC_InitStructure;
	
	// Configure EXTI Line3 to generate an interrupt on falling edge
	EXTI_InitStructure.EXTI_Line = EXTI_Line15;
	EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;
	EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_TYPE;
	EXTI_InitStructure.EXTI_LineCmd = DISABLE;
	EXTI_Init(&EXTI_InitStructure);

	NVIC_PriorityGroupConfig(NVIC_PriorityGroup_0);
 
	NVIC_InitStructure.NVIC_IRQChannel = EXTI15_10_IRQn; //PPP?????
	NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;
	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
	NVIC_InitStructure.NVIC_IRQChannelCmd = DISABLE;
	NVIC_Init(&NVIC_InitStructure);
}

void enable_href_isr(void)
{
	EXTI_InitTypeDef EXTI_InitStructure;
  NVIC_InitTypeDef NVIC_InitStructure;
	
	// Configure EXTI Line3 to generate an interrupt on falling edge
	EXTI_InitStructure.EXTI_Line = EXTI_Line15;
	EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;
	EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_TYPE;
	EXTI_InitStructure.EXTI_LineCmd = ENABLE;
	EXTI_Init(&EXTI_InitStructure);

	NVIC_PriorityGroupConfig(NVIC_PriorityGroup_0);
 
	NVIC_InitStructure.NVIC_IRQChannel = EXTI15_10_IRQn; //PPP?????
	NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;
	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
	NVIC_Init(&NVIC_InitStructure);
}

void OV2640_HW_Init(void)
{
	InitSCCB();
}

/**
  * @brief  Resets the OV2640 camera.
  * @param  None
  * @retval None
  */
void OV2640_Reset(void)
{
  OV2640_WriteReg(OV2640_DSP_RA_DLMT, 0x01);
  OV2640_WriteReg(OV2640_SENSOR_COM7, 0x80);
}

/**
  * @brief  Reads the OV2640 Manufacturer identifier.
  * @param  OV2640ID: Pointer to the OV2640 Manufacturer identifier
  * @retval None
  */
void OV2640_ReadID(OV2640_IDTypeDef *OV2640ID)
{
  OV2640_WriteReg(OV2640_DSP_RA_DLMT, 0x01);
  OV2640ID->Manufacturer_ID1 = OV2640_ReadReg(OV2640_SENSOR_MIDH);
  OV2640ID->Manufacturer_ID2 = OV2640_ReadReg(OV2640_SENSOR_MIDL);
  OV2640ID->PIDH = OV2640_ReadReg(OV2640_SENSOR_PIDH);
  OV2640ID->PIDL = OV2640_ReadReg(OV2640_SENSOR_PIDL);
}

/**
  * @brief  Configures DCMI/DMA to capture image from the OV2640 camera.
  * @param  ImageFormat: Image format BMP or JPEG 
  * @param  BMPImageSize: BMP Image size
  * @retval None
  */
  
void OV2640_Init(ImageFormat_TypeDef ImageFormat)
{
  
}
void OV2640_Init1(ImageFormat_TypeDef ImageFormat)
{
 
}
/**
  * @brief  Configures the OV2640 camera in QQVGA mode.
  * @param  None
  * @retval None
  */
void OV2640_QQVGAConfig(void)
{
  uint32_t i;
  OV2640_Reset();
  rt_thread_sleep(10);
	//JPG从这里返回
  
  /* Initialize OV2640 */
  for(i=0; i<(sizeof(OV2640_QQVGA)/2); i++)
  {
    OV2640_WriteReg(OV2640_QQVGA[i][0], OV2640_QQVGA[i][1]);
  }
}

void OV2640_QQVGAConfig1(void)
{
  uint32_t i;
 //OV2640_JPEGConfig(JPEG_176x144);
 OV2640_JPEGConfig(JPEG_176x144);
 return;
  OV2640_Reset();
  rt_thread_sleep(10);
	//JPG从这里返回
  
  /* Initialize OV2640 */
  for(i=0; i<(sizeof(OV2640_QQVGA)/2); i++)
  {
    OV2640_WriteReg(OV2640_QQVGA[i][0], OV2640_QQVGA[i][1]);
  }
}

static const u8 change_reg[][2]=
{
 /*  {0x12, 0x46},*/

	{0x3a, 0x04},
	{0x40, 0xd0},//0xd0->RGB565,0xF0->RGB555
	{0x12, 0x14},
	{0x32, 0x80},
	{0x17, 0x16},
	{0x18, 0x04},
	{0x19, 0x02},
	{0x1a, 0x7b},//0x7a,
	{0x03, 0x06},//0x0a,
	{0x0c, 0x00},
	{0x3e, 0x00},//
	{0x70, 0x00},//00
	{0x71, 0x00},//0x85测试
	{0x72, 0x11},
	{0x73, 0x00},//
	{0xa2, 0x02},
	{0x11, 0x02},
	{0x7a, 0x20},
	{0x7b, 0x1c},
	{0x7c, 0x28},
	{0x7d, 0x3c},
	{0x7e, 0x55},
	{0x7f, 0x68},
	{0x80, 0x76},
	{0x81, 0x80},
	{0x82, 0x88},
	{0x83, 0x8f},
	{0x84, 0x96},
	{0x85, 0xa3},
	{0x86, 0xaf},
	{0x87, 0xc4},
	{0x88, 0xd7},
	{0x89, 0xe8},
	{0x13, 0xe0},
	{0x00, 0x00},//AGC
	{0x10, 0x00},
	{0x0d, 0x00},
	{0x14, 0x20},//0x38, limit the max gain
	{0xa5, 0x05},
	{0xab, 0x07},
	{0x24, 0x75},
	{0x25, 0x63},
	{0x26, 0xA5},
	{0x9f, 0x78},
	{0xa0, 0x68},
	{0xa1, 0x03},//0x0b,
	{0xa6, 0xdf},//0xd8,
	{0xa7, 0xdf},//0xd8,
	{0xa8, 0xf0},
	{0xa9, 0x90},
	{0xaa, 0x94},
	{0x13, 0xe5},
	{0x0e, 0x61},
	{0x0f, 0x4b},
	{0x16, 0x02},
	{0x1e, 0x37},//0x07,
	{0x21, 0x02},
	{0x22, 0x91},
	{0x29, 0x07},
	{0x33, 0x0b},
	{0x35, 0x0b},
	{0x37, 0x1d},
	{0x38, 0x71},
	{0x39, 0x2a},//
	{0x3c, 0x78},
	{0x4d, 0x40},
	{0x4e, 0x20},
	{0x69, 0x0c},///////////////////////
	{0x6b, 0x80},//PLL
	{0x74, 0x19},
	{0x8d, 0x4f},
	{0x8e, 0x00},
	{0x8f, 0x00},
	{0x90, 0x00},
	{0x91, 0x00},
	{0x92, 0x00},//0x19,//0x66
	{0x96, 0x00},
	{0x9a, 0x80},
	{0xb0, 0x84},
	{0xb1, 0x0c},
	{0xb2, 0x0e},
	{0xb3, 0x82},
	{0xb8, 0x0a},
	{0x43, 0x14},
	{0x44, 0xf0},
	{0x45, 0x34},
	{0x46, 0x58},
	{0x47, 0x28},
	{0x48, 0x3a},
	{0x59, 0x88},
	{0x5a, 0x88},
	{0x5b, 0x44},
	{0x5c, 0x67},
	{0x5d, 0x49},
	{0x5e, 0x0e},
	{0x64, 0x04},
	{0x65, 0x20},
	{0x66, 0x05},
	{0x94, 0x04},
	{0x95, 0x08},
	{0x6c, 0x0a},
	{0x6d, 0x55},
	{0x6e, 0x11},
	{0x6f, 0x9f},//0x9e for advance AWB
	{0x6a, 0x00},
	{0x01, 0x80},
	{0x02, 0x80},
	{0x13, 0xe7},
	{0x15, 0x00},
	{0x4f, 0x80},
	{0x50, 0x80},
	{0x51, 0x00},
	{0x52, 0x22},
	{0x53, 0x5e},
	{0x54, 0x80},
	{0x58, 0x9e},	
	{0x41, 0x08},
	{0x3f, 0x00},
	{0x75, 0x05},
	{0x76, 0xe1},
	{0x4c, 0x00},
	{0x77, 0x01},
	{0x3d, 0xc2},	//0xc0,
	{0x4b, 0x09},
	{0xc9, 0x60},
	{0x41, 0x38},
	{0x56, 0x40},//0x40,  change according to Jim's request	
	{0x34, 0x11},
	{0x3b, 0x02},//0x00,//0x02,
	{0xa4, 0x89},//0x88,
	{0x96, 0x00},
	{0x97, 0x30},
	{0x98, 0x20},
	{0x99, 0x30},
	{0x9a, 0x84},
	{0x9b, 0x29},
	{0x9c, 0x03},
	{0x9d, 0x4c},
	{0x9e, 0x3f},
	{0x78, 0x04},	
	{0x79, 0x01},
	{0xc8, 0xf0},
	{0x79, 0x0f},
	{0xc8, 0x00},
	{0x79, 0x10},
	{0xc8, 0x7e},
	{0x79, 0x0a},
	{0xc8, 0x80},
	{0x79, 0x0b},
	{0xc8, 0x01},
	{0x79, 0x0c},
	{0xc8, 0x0f},
	{0x79, 0x0d},
	{0xc8, 0x20},
	{0x79, 0x09},
	{0xc8, 0x80},
	{0x79, 0x02},
	{0xc8, 0xc0},
	{0x79, 0x03},
	{0xc8, 0x40},
	{0x79, 0x05},
	{0xc8, 0x30},
	{0x79, 0x26},
	{0x09, 0x03},
	{0x55, 0x00},
	{0x56, 0x40},	
	{0x3b, 0xC2},//0x82,//0xc0,//0xc2,	//night mode
};
/**
  * @brief  Configures the OV2640 camera in QVGA mode.
  * @param  None
  * @retval None
  */
  u8 ID;
void OV2640_QVGAConfig(void)
{
   uint32_t i;
 
  OV2640_Reset();
  rt_thread_sleep(10);
 
   /* Initialize OV2640 */
  for(i=0; i<(sizeof(OV2640_QVGA)/2); i++)
  {
    OV2640_WriteReg(OV2640_QVGA[i][0], OV2640_QVGA[i][1]);
    rt_thread_sleep(1);
   }
}

/**
  * @brief  Configures the OV2640 camera in JPEG mode.
  * @param  JPEGImageSize: JPEG image size
  * @retval None
  */


#define SCCB_WR_Reg OV2640_WriteReg
#define SCCB_RD_Reg OV2640_ReadReg

//???????? 
//sx,sy,????
//width,height:??(??:horizontal)???(??:vertical)
void OV2640_Window_Set(u16 sx,u16 sy,u16 width,u16 height)
{
    u16 endx;
    u16 endy;
    u8 temp; 
    endx=sx+width/2;    //V*2
    endy=sy+height/2;
     
    //SCCB_WR_Reg(0XFF,0X01);         
    temp=SCCB_RD_Reg(0X03);             //??Vref????
    temp&=0XF0;
    temp|=((endy&0X03)<<2)|(sy&0X03);
    SCCB_WR_Reg(0X03,temp);             //??Vref?start?end???2?
    SCCB_WR_Reg(0X19,sy>>2);          //??Vref?start?8?
    SCCB_WR_Reg(0X1A,endy>>2);            //??Vref?end??8?
     
    temp=SCCB_RD_Reg(0X32);             //??Href????
    temp&=0XC0;
    temp|=((endx&0X07)<<3)|(sx&0X07);
    SCCB_WR_Reg(0X32,temp);             //??Href?start?end???3?
    SCCB_WR_Reg(0X17,sx>>3);          //??Href?start?8?
    SCCB_WR_Reg(0X18,endx>>3);            //??Href?end??8?
}
//????????
//OV2640???????(???),????????
//width,height:??(??:horizontal)???(??:vertical),width?height???4???
//???:0,????
//    ??,????
u8 OV2640_OutSize_Set(u16 width,u16 height)
{
    u16 outh;
    u16 outw;
    u8 temp; 
    if(width%4)return 1;
    if(height%4)return 2;
    outw=width/4;
    outh=height/4; 
    //SCCB_WR_Reg(0XFF,0X00); 
    SCCB_WR_Reg(0XE0,0X04);         
    SCCB_WR_Reg(0X5A,outw&0XFF);        //??OUTW????
    SCCB_WR_Reg(0X5B,outh&0XFF);        //??OUTH????
    temp=(outw>>8)&0X03;
    temp|=(outh>>6)&0X04;
    SCCB_WR_Reg(0X5C,temp);             //??OUTH/OUTW??? 
    SCCB_WR_Reg(0XE0,0X00); 
    return 0;
}
//????????
//?:OV2640_ImageSize_Set?????????????.
//???????????????,??OV2640_OutSize_Set???
//??:?????????,??????OV2640_OutSize_Set????????
//     OV2640_OutSize_Set????????,?????????????,?DSP
//     ????????,???????.
//width,height:??(??:horizontal)???(??:vertical),width?height???4???
//???:0,????
//    ??,????
u8 OV2640_ImageWin_Set(u16 offx,u16 offy,u16 width,u16 height)
{
    u16 hsize;
    u16 vsize;
    u8 temp; 
    if(width%4)return 1;
    if(height%4)return 2;
    hsize=width/4;
    vsize=height/4;
    SCCB_WR_Reg(0XFF,0X00); 
    SCCB_WR_Reg(0XE0,0X04);                 
    SCCB_WR_Reg(0X51,hsize&0XFF);       //??H_SIZE????
    SCCB_WR_Reg(0X52,vsize&0XFF);       //??V_SIZE????
    SCCB_WR_Reg(0X53,offx&0XFF);        //??offx????
    SCCB_WR_Reg(0X54,offy&0XFF);        //??offy????
    temp=(vsize>>1)&0X80;
    temp|=(offy>>4)&0X70;
    temp|=(hsize>>5)&0X08;
    temp|=(offx>>8)&0X07; 
    SCCB_WR_Reg(0X55,temp);             //??H_SIZE/V_SIZE/OFFX,OFFY???
    SCCB_WR_Reg(0X57,(hsize>>2)&0X80);    //??H_SIZE/V_SIZE/OFFX,OFFY???
    SCCB_WR_Reg(0XE0,0X00); 
    return 0;
} 


u8 OV2640_ImageSize_Set(u16 width,u16 height)
{ 
    u8 temp; 
    //SCCB_WR_Reg(0XFF,0X00);         
    //SCCB_WR_Reg(0XE0,0X04);         
    SCCB_WR_Reg(0XC0,(width)>>3&0XFF);        //??HSIZE?10:3?
    SCCB_WR_Reg(0XC1,(height)>>3&0XFF);       //??VSIZE?10:3?
    temp=(width&0X07)<<3;
    temp|=height&0X07;
    temp|=(width>>4)&0X80; 
    SCCB_WR_Reg(0X8C,temp); 
    SCCB_WR_Reg(0XE0,0X00);              
    return 0;
}


void OV2640_JPEGConfig(ImageFormat_TypeDef ImageFormat)
{
  uint32_t i;

  OV2640_Reset();
  rt_thread_sleep(2);

  /* Initialize OV2640 */
  for(i=0; i<(sizeof(OV2640_JPEG_INIT)/2); i++)
  {
		//OV2640_HW_Init();
    OV2640_WriteReg(OV2640_JPEG_INIT[i][0], OV2640_JPEG_INIT[i][1]);
		rt_thread_sleep(1);
  }

  /* Set to output YUV422 */
  for(i=0; i<(sizeof(OV2640_YUV422)/2); i++)
  {
    OV2640_WriteReg(OV2640_YUV422[i][0], OV2640_YUV422[i][1]);
		rt_thread_sleep(5);
  }

  //OV2640_WriteReg(0xff, 0x01);
  //OV2640_WriteReg(0x15, 0x00);

  /* Set to output JPEG */
  for(i=0; i<(sizeof(OV2640_JPEG)/2); i++)
  {
    OV2640_WriteReg(OV2640_JPEG[i][0], OV2640_JPEG[i][1]);
	rt_thread_sleep(1);
  }

  rt_thread_sleep(10);

  switch(ImageFormat)
  {
    case JPEG_160x120:
    {
      for(i=0; i<(sizeof(OV2640_160x120_JPEG)/2); i++)
      {
        OV2640_WriteReg(OV2640_160x120_JPEG[i][0], OV2640_160x120_JPEG[i][1]);
//				
//				OV2640_Window_Set(0,0,120,160);
//				OV2640_OutSize_Set(120,160);
//				OV2640_ImageWin_Set(0,0,120,160);
//				OV2640_ImageSize_Set(120,160);
				
				rt_thread_sleep(1);
				
				
      }
      break;
    }
    case JPEG_176x144:
    {
      for(i=0; i<(sizeof(OV2640_176x144_JPEG)/2); i++)
      {
        OV2640_WriteReg(OV2640_176x144_JPEG[i][0], OV2640_176x144_JPEG[i][1]);
      } 
      break;
    }
    case JPEG_320x240:
    {
       for(i=0; i<(sizeof(OV2640_320x240_JPEG)/2); i++)
      {
        OV2640_WriteReg(OV2640_320x240_JPEG[i][0], OV2640_320x240_JPEG[i][1]);
				rt_thread_sleep(1);
      }
      break;
    }
    case JPEG_352x288:
    {
      for(i=0; i<(sizeof(OV2640_352x288_JPEG)/2); i++)
      {
        OV2640_WriteReg(OV2640_352x288_JPEG[i][0], OV2640_352x288_JPEG[i][1]);
      }
      break;
    }
    default:
    {
      for(i=0; i<(sizeof(OV2640_160x120_JPEG)/2); i++)
      {
        OV2640_WriteReg(OV2640_160x120_JPEG[i][0], OV2640_160x120_JPEG[i][1]);
      }
      break;
    }
  }
}

/**
  * @brief  Configures the OV2640 camera brightness.
  * @param  Brightness: Brightness value, where Brightness can be: 
  *         0x40 for Brightness +2,
  *         0x30 for Brightness +1,
  *         0x20 for Brightness 0,
  *         0x10 for Brightness -1,
  *         0x00 for Brightness -2,
  * @retval None
  */
void OV2640_BrightnessConfig(uint8_t Brightness)
{
  OV2640_WriteReg(0xff, 0x00);
  OV2640_WriteReg(0x7c, 0x00);
  OV2640_WriteReg(0x7d, 0x04);
  OV2640_WriteReg(0x7c, 0x09);
  OV2640_WriteReg(0x7d, Brightness);
  OV2640_WriteReg(0x7d, 0x00);
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
const static u8 OV2640_AUTOEXPOSURE_LEVEL0[]=
{
	0xFF,	0x01,	0xff,
	0x24,	0x20,	0xff,
	0x25,	0x18,	0xff,
	0x26,	0x60,	0xff,
	0x00,	0x00,	0x00
};

const static u8 OV2640_AUTOEXPOSURE_LEVEL1[]=
{
	0xFF,	0x01,	0xff,
	0x24,	0x34,	0xff,
	0x25,	0x1c,	0xff,
	0x26,	0x70,	0xff,
	0x00,	0x00,	0x00
};
const static u8 OV2640_AUTOEXPOSURE_LEVEL2[]=
{
	0xFF,	0x01,	0xff,
	0x24,	0x3e,	0xff,
	0x25,	0x38,	0xff,
	0x26,	0x81,	0xff,
	0x00,	0x00,	0x00
};
const static u8 OV2640_AUTOEXPOSURE_LEVEL3[]=
{
	0xFF,	0x01,	0xff,
	0x24,	0x48,	0xff,
	0x25,	0x40,	0xff,
	0x26,	0x81,	0xff,
	0x00,	0x00,	0x00
};
const static u8 OV2640_AUTOEXPOSURE_LEVEL4[]=
{
	0xFF,	0x01,	0xff,
	0x24,	0x58,	0xff,
	0x25,	0x50,	0xff,
	0x26,	0x92,	0xff,
	0x00,	0x00,	0x00
};

void SCCB_WriteRegs(const u8* pbuf)
{
	while(1)
	{
		if((*pbuf == 0) && (*(pbuf + 1) == 0))
		{
			break;
		}
		else
		{
			OV2640_WriteReg(*pbuf++, *pbuf++);
		}
	}
}
void OV2640_AutoExposure(u8 level)
{
	switch(level)
	{
		case 0:
			SCCB_WriteRegs(OV2640_AUTOEXPOSURE_LEVEL0);
			break;
		case 1:
			SCCB_WriteRegs(OV2640_AUTOEXPOSURE_LEVEL1);
			break;
		case 2:
			SCCB_WriteRegs(OV2640_AUTOEXPOSURE_LEVEL2);
			break;
		case 3:
			SCCB_WriteRegs(OV2640_AUTOEXPOSURE_LEVEL3);
			break;
		case 4:
			SCCB_WriteRegs(OV2640_AUTOEXPOSURE_LEVEL4);
			break;
		default:
			SCCB_WriteRegs(OV2640_AUTOEXPOSURE_LEVEL0);
			break;
	}
	
}
/**
  * @brief  Configures the OV2640 camera Black and white mode.
  * @param  BlackWhite: BlackWhite value, where BlackWhite can be: 
  *         0x18 for B&W,
  *         0x40 for Negative,
  *         0x58 for B&W negative,
  *         0x00 for Normal,
  * @retval None
  */
void OV2640_BandWConfig(uint8_t BlackWhite)
{
  OV2640_WriteReg(0xff, 0x00);
  OV2640_WriteReg(0x7c, 0x00);
  OV2640_WriteReg(0x7d, BlackWhite);
  OV2640_WriteReg(0x7c, 0x05);
  OV2640_WriteReg(0x7d, 0x80);
  OV2640_WriteReg(0x7d, 0x80);
}

/**
  * @brief  Configures the OV2640 camera color effects.
  * @param  value1: Color effects value1
  * @param  value2: Color effects value2
  *         where value1 and value2 can be: 
  *         value1 = 0x40, value2 = 0xa6 for Antique,
  *         value1 = 0xa0, value2 = 0x40 for Bluish,
  *         value1 = 0x40, value2 = 0x40 for Greenish,
  *         value1 = 0x40, value2 = 0xc0 for Reddish,
  * @retval None
  */
void OV2640_ColorEffectsConfig(uint8_t value1, uint8_t value2)
{
  OV2640_WriteReg(0xff, 0x00);
  OV2640_WriteReg(0x7c, 0x00);
  OV2640_WriteReg(0x7d, 0x18);
  OV2640_WriteReg(0x7c, 0x05);
  OV2640_WriteReg(0x7d, value1);
  OV2640_WriteReg(0x7d, value2);
}

/**
  * @brief  Configures the OV2640 camera contrast.
  * @param  value1: Contrast value1
  * @param  value2: Contrast value2
  *         where value1 and value2 can be: 
  *         value1 = 0x28, value2 = 0x0c for Contrast +2,
  *         value1 = 0x24, value2 = 0x16 for Contrast +1,
  *         value1 = 0x20, value2 = 0x20 for Contrast 0,
  *         value1 = 0x1c, value2 = 0x2a for Contrast -1,
  *         value1 = 0x18, value2 = 0x34 for Contrast -2,
  * @retval None
  */
void OV2640_ContrastConfig(uint8_t value1, uint8_t value2)
{
  OV2640_WriteReg(0xff, 0x00);
  OV2640_WriteReg(0x7c, 0x00);
  OV2640_WriteReg(0x7d, 0x04);
  OV2640_WriteReg(0x7c, 0x07);
  OV2640_WriteReg(0x7d, 0x20);
  OV2640_WriteReg(0x7d, value1);
  OV2640_WriteReg(0x7d, value2);
  OV2640_WriteReg(0x7d, 0x06);
}

/**
  * @brief  Writes a byte at a specific Camera register
  * @param  Addr: OV2640 register address.
  * @param  Data: Data to be written to the specific register 
  * @retval 0x00 if write operation is OK.
  *       0xFF if timeout condition occured (device not connected or bus error).
  */

uint8_t OV2640_WriteReg(unsigned char Addr, uint8_t Data)
{
	sccbw(Addr,Data);
  return 0;
}

/**
  * @brief  Reads a byte from a specific Camera register
  * @param  Addr: OV2640 register address.
  * @retval data read from the specific register or 0xFF if timeout condition
  *         occured. 
  */
uint8_t OV2640_ReadReg(unsigned char Addr)
{
	uint8_t dat;
	return sccbr(Addr);
}



u8 *JpegBuffer;
//u8 *JpegBuffer;
u32 JpegDataCnt = 0;


#define READ_VSYNC			(GPIOB->IDR & GPIO_Pin_8)  //GPIO_ReadInputDataBit(GPIOB,GPIO_Pin_8)			//GPIO_Pin_8	????????
#define READ_PICLK			(GPIOB->IDR & GPIO_Pin_15) //GPIO_ReadInputDataBit(GPIOB,GPIO_Pin_15)		//1			//GPIO_Pin_15 ?????GPIO_Pin_15

#ifdef SUPPORT_DOUBLE_WAKEUP
#define READ_HREF				(GPIOC->IDR & GPIO_Pin_15) //GPIO_ReadInputDataBit(GPIOC,GPIO_Pin_13)		//1			//GPIO_Pin_15 ?????GPIO_Pin_15
#else
#define READ_HREF				(GPIOC->IDR & GPIO_Pin_13) //GPIO_ReadInputDataBit(GPIOC,GPIO_Pin_13)		//1			//GPIO_Pin_15 ?????GPIO_Pin_15
#endif

#define READ_PIC_HRE (GPIOB->IDR & 0xA000)

//#define READ_PICLK			(~(READ_PICLK1 & READ_HREF))

#define OV_READ_IMG_INTI				0
#define OV_READ_IMG_VSYNC_LOW1	1
#define OV_READ_IMG_VSYNC_LOW2	2
#define OV_READ_IMG_VSYNC_HIGH	3
#define OV_READ_IMG_WAIT_PICLK	4
#define OV_READ_IMG_FINISH			5
#define OV_READ_IMG_NULL				6
#define OV_READ_IMG_VSYNC_LOW3	7


#define READIMG_TIMEOUT_CNT			(1024 * 5)	//读取超时计数器

extern void uart1_putchar(unsigned char data);

int ov2640_read(void)
{
	
	NVIC_InitTypeDef NVIC_InitStructure;
	
	int ret = 0;
	unsigned char READSTATSUS = OV_READ_IMG_INTI;
	short i = 0;
	char paizhaocnt = 0;
	
	//关闭SYSTICK
	//SysTick->CTRL = 0;
	//DISABLE_SYSTICK;
	//DISABLE_IRQ;
	
	REREAD:
	
	paizhaocnt ++;
	
	if (paizhaocnt > 3){goto ERROR;}
	
	JpegDataCnt = 0;
	READSTATSUS = OV_READ_IMG_INTI;
	
	while(READ_VSYNC != 0)
	{
		//等待拉低
		//
	}
	
	while(READ_VSYNC == 0)
	{
		//等待拉高
		//
	}
	
	enable_href_isr();
	
	while(READ_VSYNC != 0)
	{
		//等待拉低
		//
	}
	
	//关闭中断
	disable_href_isr();
	
	goto finish;
	
	
	readbyte:
	
	if (READ_VSYNC == 0)
	{
		goto finish;
	}
	
	wait2:
	if ((READ_PICLK != 0) && (READ_HREF != 0))
	//if (READ_PIC_HRE == 0xA000)
	{
		JpegBuffer[JpegDataCnt] = (u8)(GPIOB->IDR);
		JpegDataCnt++;
		
		wait:
		if ((READ_PICLK != 0)/* && (READ_HREF != 0)*/)
		{
			goto wait;
		}
		
		goto readbyte;
	}else{
		goto readbyte;
	}
	
	
	finish:
	
	printf("JpegDataCnt = %d [%02x][%02x][%02x][%02x]\r\n",JpegDataCnt,JpegBuffer[0],JpegBuffer[1],JpegBuffer[JpegDataCnt-2],JpegBuffer[JpegDataCnt-1]);
	
	//debugbuf
	
	if ((JpegBuffer[0] == 0xFF) && (JpegBuffer[1] == 0xD8))
	{
		//
	}
	else
	{
		goto REREAD;
	}
	
	if (JpegDataCnt < 1024)
	{
		goto REREAD;
	}

	
	for(i = 0; i < JpegDataCnt; i ++)
	{
		uart1_putchar(JpegBuffer[i]);
	}
	
	//goto REREAD;
	
	printf("JpegDataCnt = %d\r\n",JpegDataCnt);
	
	//开启SYSTICK
	//SysTick_Config(SystemCoreClock / 100);
	//ENABLE_SYSTICK;
	//ENABLE_IRQ;
	
	
	return JpegDataCnt;
	ERROR:
	return -1;
	

}

int ov2640_init(void)
{
//	int i=0;
	OV2640_IDTypeDef OV2640_Camera_ID;
	
	//initOV2640PWM();
	_config_mco();
	InitSCCB();
	
	memset(&OV2640_Camera_ID,0x0,sizeof(OV2640_IDTypeDef));
	
	OV2640_ReadID(&OV2640_Camera_ID);	//读取OV2640ID，测试硬件，依次为:0x7F,0xA2,0x26,0x42
		
	//判断初始化是否成功
	if (OV2640_Camera_ID.Manufacturer_ID1 == 0x7F)
	{
		printf("OV2640 初始化成功 \r\n");
	}else
	{
		printf("OV2640 初始化失败 \r\n");
		return -1;
	}
	
	OV2640_JPEGConfig(JPEG_320x240);
	OV2640_BrightnessConfig(0x20);
	OV2640_AutoExposure(0);
	

	OV2640_CaptureGpioInit();				//数据采集引脚初始化
	
	return 0;
}

void ov2640_power_on(char on)
{

}

void ov2640_flashlight_power(char on)
{
}

void alloc_jpegbuffer(void)
{
	JpegBuffer = alloc_mem(__FILE__,__LINE__,JPEG_BUFFER_LENGTH);
	//
}
void free_jpegbuffer(void)
{
	free_mem(__FILE__,__LINE__,JpegBuffer);
	//
}

void ov2640_poweron(void)
{
}
void ov2640_poweroff(void)
{
}


void _config_mco(void)
{
	
	GPIO_InitTypeDef GPIO_InitStructure;
	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_8;
	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
	GPIO_Init(GPIOA, &GPIO_InitStructure);
	
	RCC_MCOConfig(RCC_MCO_HSE);
	
}

unsigned char check_ffd9(unsigned char *imgbuf , int imglen)
//检查是否包含FFD9
{
	int i;
	unsigned char ffd9flag = 0;
	for(i = 0; i < imglen; i ++)
	{
		if (i > 512)
		{
			if ((imgbuf[i-1] == 0xFF) && (imgbuf[i] == 0xD9))
			{
				ffd9flag = 1;
				//
			}
		}
		
	}
	
	if (ffd9flag > 0)
	{
		printf("CHECK FFD9 SUCCESS\r\n");
	}else{
		printf("CHECK FFD9 ERROR\r\n");
	}

	return ffd9flag;
	
}

void __write_img_2_flash(int index , unsigned char *buffer , int buflen , unsigned int paizhaoshijian)
{
	
	unsigned int program_address;
	unsigned char hdr[] = {0xFA,0xFB,0xFC,0xFD};
	
	unsigned int paizhaotime = paizhaoshijian;//RTC_GetCounter();
	
	
	if (buflen > (IMG_CACHE_SIZE - 8))
	{
		DEBUG_ERROR(buflen);
		return;
	}
	
	switch(index)
	{
		case 0:
			program_address = IMG_CACHE_ADDR_0;
			break;
		default:
			break;
			
	}
	
	FLASH_ProgramStart(program_address,IMG_CACHE_SIZE);
	FLASH_AppendBuffer(hdr,sizeof(hdr));
	FLASH_AppendBuffer((unsigned char*)(&buflen),sizeof(buflen));
	FLASH_AppendBuffer((unsigned char*)(&paizhaotime),sizeof(paizhaotime));
	FLASH_AppendBuffer(buffer,buflen);
	FLASH_AppendEnd();
	FLASH_ProgramDone();
	
}

unsigned char* read_imgbuffer(int index  , int *imglen , unsigned int *paizhaotime)
{
	unsigned int program_address;
	switch(index)
	{
		case 0:
			program_address = IMG_CACHE_ADDR_0;
			break;
		default:
			break;
			
	}
	
	memcpy((unsigned char*)imglen , (unsigned char*)(program_address + 4),4);
	memcpy((unsigned char*)paizhaotime , (unsigned char*)(program_address + 4 + 4),4);
	
	DEBUG_VALUE(*paizhaotime);
	
	//paizhaotime
	return (unsigned char*)(program_address + 12);
	
	return 0x0;
}



/**
  * @}
  */ 

/**
  * @}
  */ 

/******************* (C) COPYRIGHT 2011 STMicroelectronics *****END OF FILE****/
